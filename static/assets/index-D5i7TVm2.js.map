{"version":3,"file":"index-D5i7TVm2.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../node_modules/rc-pagination/lib/locale/zh_CN.js","../../node_modules/@babel/runtime/helpers/typeof.js","../../node_modules/@babel/runtime/helpers/toPrimitive.js","../../node_modules/@babel/runtime/helpers/toPropertyKey.js","../../node_modules/@babel/runtime/helpers/defineProperty.js","../../node_modules/@babel/runtime/helpers/objectSpread2.js","../../node_modules/rc-picker/lib/locale/common.js","../../node_modules/rc-picker/lib/locale/zh_CN.js","../../node_modules/antd/lib/time-picker/locale/zh_CN.js","../../node_modules/antd/lib/date-picker/locale/zh_CN.js","../../node_modules/antd/lib/calendar/locale/zh_CN.js","../../node_modules/antd/lib/locale/zh_CN.js","../../node_modules/antd/locale/zh_CN.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../node_modules/axios/lib/helpers/bind.js","../../node_modules/axios/lib/utils.js","../../node_modules/axios/lib/core/AxiosError.js","../../node_modules/axios/lib/helpers/null.js","../../node_modules/axios/lib/helpers/toFormData.js","../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/axios/lib/helpers/buildURL.js","../../node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/axios/lib/defaults/transitional.js","../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/axios/lib/platform/browser/index.js","../../node_modules/axios/lib/platform/common/utils.js","../../node_modules/axios/lib/platform/index.js","../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/axios/lib/defaults/index.js","../../node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/axios/lib/core/transformData.js","../../node_modules/axios/lib/cancel/isCancel.js","../../node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/axios/lib/core/settle.js","../../node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/axios/lib/helpers/speedometer.js","../../node_modules/axios/lib/helpers/throttle.js","../../node_modules/axios/lib/helpers/progressEventReducer.js","../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/axios/lib/helpers/cookies.js","../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/axios/lib/core/buildFullPath.js","../../node_modules/axios/lib/core/mergeConfig.js","../../node_modules/axios/lib/helpers/resolveConfig.js","../../node_modules/axios/lib/adapters/xhr.js","../../node_modules/axios/lib/helpers/composeSignals.js","../../node_modules/axios/lib/helpers/trackStream.js","../../node_modules/axios/lib/adapters/fetch.js","../../node_modules/axios/lib/adapters/adapters.js","../../node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/axios/lib/env/data.js","../../node_modules/axios/lib/helpers/validator.js","../../node_modules/axios/lib/core/Axios.js","../../node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/axios/lib/helpers/spread.js","../../node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/axios/lib/axios.js","../../node_modules/axios/index.js","../../src/api/soulbrowser.ts","../../src/stores/backendConfigStore.ts","../../src/components/common/MainLayout.tsx","../../node_modules/immer/dist/immer.mjs","../../node_modules/zustand/esm/middleware/immer.mjs","../../src/stores/chatStore.ts","../../src/components/chat/TemplateSelector.tsx","../../src/components/chat/ChatPage.tsx","../../src/components/perceive/PerceivePage.tsx","../../src/components/diagnostics/DiagnosticsPage.tsx","../../src/components/tasks/ConversationBoard.tsx","../../src/components/tasks/LiveCompanion.tsx","../../src/components/tasks/TemplatesPane.tsx","../../src/components/tasks/TasksPage.tsx","../../src/components/governance/GovernancePage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar locale = {\n  // Options\n  items_per_page: '条/页',\n  jump_to: '跳至',\n  jump_to_confirm: '确定',\n  page: '页',\n  // Pagination\n  prev_page: '上一页',\n  next_page: '下一页',\n  prev_5: '向前 5 页',\n  next_5: '向后 5 页',\n  prev_3: '向前 3 页',\n  next_3: '向后 3 页',\n  page_size: '页码'\n};\nvar _default = exports.default = locale;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commonLocale = void 0;\nvar commonLocale = exports.commonLocale = {\n  yearFormat: 'YYYY',\n  dayFormat: 'D',\n  cellMeridiemFormat: 'A',\n  monthBeforeYear: true\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _common = require(\"./common\");\nvar locale = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, _common.commonLocale), {}, {\n  locale: 'zh_CN',\n  today: '今天',\n  now: '此刻',\n  backToToday: '返回今天',\n  ok: '确定',\n  timeSelect: '选择时间',\n  dateSelect: '选择日期',\n  weekSelect: '选择周',\n  clear: '清除',\n  week: '周',\n  month: '月',\n  year: '年',\n  previousMonth: '上个月 (翻页上键)',\n  nextMonth: '下个月 (翻页下键)',\n  monthSelect: '选择月份',\n  yearSelect: '选择年份',\n  decadeSelect: '选择年代',\n  previousYear: '上一年 (Control键加左方向键)',\n  nextYear: '下一年 (Control键加右方向键)',\n  previousDecade: '上一年代',\n  nextDecade: '下一年代',\n  previousCentury: '上一世纪',\n  nextCentury: '下一世纪',\n  yearFormat: 'YYYY年',\n  cellDateFormat: 'D',\n  monthBeforeYear: false\n});\nvar _default = exports.default = locale;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst locale = {\n  placeholder: '请选择时间',\n  rangePlaceholder: ['开始时间', '结束时间']\n};\nvar _default = exports.default = locale;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"rc-picker/lib/locale/zh_CN\"));\nvar _zh_CN2 = _interopRequireDefault(require(\"../../time-picker/locale/zh_CN\"));\n// 统一合并为完整的 Locale\nconst locale = {\n  lang: Object.assign({\n    placeholder: '请选择日期',\n    yearPlaceholder: '请选择年份',\n    quarterPlaceholder: '请选择季度',\n    monthPlaceholder: '请选择月份',\n    weekPlaceholder: '请选择周',\n    rangePlaceholder: ['开始日期', '结束日期'],\n    rangeYearPlaceholder: ['开始年份', '结束年份'],\n    rangeMonthPlaceholder: ['开始月份', '结束月份'],\n    rangeQuarterPlaceholder: ['开始季度', '结束季度'],\n    rangeWeekPlaceholder: ['开始周', '结束周']\n  }, _zh_CN.default),\n  timePickerLocale: Object.assign({}, _zh_CN2.default)\n};\n// should add whitespace between char in Button\nlocale.lang.ok = '确定';\n// All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\nvar _default = exports.default = locale;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"../../date-picker/locale/zh_CN\"));\nvar _default = exports.default = _zh_CN.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"rc-pagination/lib/locale/zh_CN\"));\nvar _zh_CN2 = _interopRequireDefault(require(\"../calendar/locale/zh_CN\"));\nvar _zh_CN3 = _interopRequireDefault(require(\"../date-picker/locale/zh_CN\"));\nvar _zh_CN4 = _interopRequireDefault(require(\"../time-picker/locale/zh_CN\"));\nconst typeTemplate = '${label}不是一个有效的${type}';\nconst localeValues = {\n  locale: 'zh-cn',\n  Pagination: _zh_CN.default,\n  DatePicker: _zh_CN3.default,\n  TimePicker: _zh_CN4.default,\n  Calendar: _zh_CN2.default,\n  // locales for all components\n  global: {\n    placeholder: '请选择',\n    close: '关闭'\n  },\n  Table: {\n    filterTitle: '筛选',\n    filterConfirm: '确定',\n    filterReset: '重置',\n    filterEmptyText: '无筛选项',\n    filterCheckAll: '全选',\n    filterSearchPlaceholder: '在筛选项中搜索',\n    emptyText: '暂无数据',\n    selectAll: '全选当页',\n    selectInvert: '反选当页',\n    selectNone: '清空所有',\n    selectionAll: '全选所有',\n    sortTitle: '排序',\n    expand: '展开行',\n    collapse: '关闭行',\n    triggerDesc: '点击降序',\n    triggerAsc: '点击升序',\n    cancelSort: '取消排序'\n  },\n  Modal: {\n    okText: '确定',\n    cancelText: '取消',\n    justOkText: '知道了'\n  },\n  Tour: {\n    Next: '下一步',\n    Previous: '上一步',\n    Finish: '结束导览'\n  },\n  Popconfirm: {\n    cancelText: '取消',\n    okText: '确定'\n  },\n  Transfer: {\n    titles: ['', ''],\n    searchPlaceholder: '请输入搜索内容',\n    itemUnit: '项',\n    itemsUnit: '项',\n    remove: '删除',\n    selectCurrent: '全选当页',\n    removeCurrent: '删除当页',\n    selectAll: '全选所有',\n    deselectAll: '取消全选',\n    removeAll: '删除全部',\n    selectInvert: '反选当页'\n  },\n  Upload: {\n    uploading: '文件上传中',\n    removeFile: '删除文件',\n    uploadError: '上传错误',\n    previewFile: '预览文件',\n    downloadFile: '下载文件'\n  },\n  Empty: {\n    description: '暂无数据'\n  },\n  Icon: {\n    icon: '图标'\n  },\n  Text: {\n    edit: '编辑',\n    copy: '复制',\n    copied: '复制成功',\n    expand: '展开',\n    collapse: '收起'\n  },\n  Form: {\n    optional: '（可选）',\n    defaultValidateMessages: {\n      default: '字段验证错误${label}',\n      required: '请输入${label}',\n      enum: '${label}必须是其中一个[${enum}]',\n      whitespace: '${label}不能为空字符',\n      date: {\n        format: '${label}日期格式无效',\n        parse: '${label}不能转换为日期',\n        invalid: '${label}是一个无效日期'\n      },\n      types: {\n        string: typeTemplate,\n        method: typeTemplate,\n        array: typeTemplate,\n        object: typeTemplate,\n        number: typeTemplate,\n        date: typeTemplate,\n        boolean: typeTemplate,\n        integer: typeTemplate,\n        float: typeTemplate,\n        regexp: typeTemplate,\n        email: typeTemplate,\n        url: typeTemplate,\n        hex: typeTemplate\n      },\n      string: {\n        len: '${label}须为${len}个字符',\n        min: '${label}最少${min}个字符',\n        max: '${label}最多${max}个字符',\n        range: '${label}须在${min}-${max}字符之间'\n      },\n      number: {\n        len: '${label}必须等于${len}',\n        min: '${label}最小值为${min}',\n        max: '${label}最大值为${max}',\n        range: '${label}须在${min}-${max}之间'\n      },\n      array: {\n        len: '须为${len}个${label}',\n        min: '最少${min}个${label}',\n        max: '最多${max}个${label}',\n        range: '${label}数量须在${min}-${max}之间'\n      },\n      pattern: {\n        mismatch: '${label}与模式不匹配${pattern}'\n      }\n    }\n  },\n  Image: {\n    preview: '预览'\n  },\n  QRCode: {\n    expired: '二维码过期',\n    refresh: '点击刷新',\n    scanned: '已扫描'\n  },\n  ColorPicker: {\n    presetEmpty: '暂无',\n    transparent: '无色',\n    singleColor: '单色',\n    gradientColor: '渐变色'\n  }\n};\nvar _default = exports.default = localeValues;","module.exports = require('../lib/locale/zh_CN');","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","'use strict';\n\n/**\n * Create a bound version of a function with a specified `this` context\n *\n * @param {Function} fn - The function to bind\n * @param {*} thisArg - The value to be passed as the `this` parameter\n * @returns {Function} A new function that will call the original function with the specified `this` context\n */\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n\n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless, skipUndefined} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else if (!skipUndefined || !isUndefined(val)) {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  const msg = error && error.message ? error.message : 'Error';\n\n  // Prefer explicit code; otherwise copy the low-level error's code (e.g. ECONNREFUSED)\n  const errCode = code == null && error ? error.code : code;\n  AxiosError.call(axiosError, msg, errCode, config, request, response);\n\n  // Chain the original error on the standard field; non-enumerable to avoid JSON noise\n  if (error && axiosError.cause == null) {\n    Object.defineProperty(axiosError, 'cause', { value: error, configurable: true });\n  }\n\n  axiosError.name = (error && error.name) || 'Error';\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {void}\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data, this.parseReviver);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure, sameSite) {\n      if (typeof document === 'undefined') return;\n\n      const cookie = [`${name}=${encodeURIComponent(value)}`];\n\n      if (utils.isNumber(expires)) {\n        cookie.push(`expires=${new Date(expires).toUTCString()}`);\n      }\n      if (utils.isString(path)) {\n        cookie.push(`path=${path}`);\n      }\n      if (utils.isString(domain)) {\n        cookie.push(`domain=${domain}`);\n      }\n      if (secure === true) {\n        cookie.push('secure');\n      }\n      if (utils.isString(sameSite)) {\n        cookie.push(`SameSite=${sameSite}`);\n      }\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      if (typeof document === 'undefined') return null;\n      const match = document.cookie.match(new RegExp('(?:^|; )' + name + '=([^;]*)'));\n      return match ? decodeURIComponent(match[1]) : null;\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000, '/');\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b, prop) => mergeDeepProperties(headersToObject(a), headersToObject(b), prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let { data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth } = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // browser handles it\n    } else if (utils.isFunction(data.getHeaders)) {\n      // Node.js FormData (like form-data package)\n      const formHeaders = data.getHeaders();\n      // Only set safe headers to avoid overwriting security headers\n      const allowedHeaders = ['content-type', 'content-length'];\n      Object.entries(formHeaders).forEach(([key, val]) => {\n        if (allowedHeaders.includes(key.toLowerCase())) {\n          headers.set(key, val);\n        }\n      });\n    }\n  }  \n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n  request.onerror = function handleError(event) {\n       // Browsers deliver a ProgressEvent in XHR onerror\n       // (message may be empty; when present, surface it)\n       // See https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/error_event\n       const msg = event && event.message ? event.message : 'Network Error';\n       const err = new AxiosError(msg, AxiosError.ERR_NETWORK, config, request);\n       // attach the underlying event for consumers who want details\n       err.event = event || null;\n       reject(err);\n       request = null;\n    };\n    \n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst {isFunction} = utils;\n\nconst globalFetchAPI = (({Request, Response}) => ({\n  Request, Response\n}))(utils.global);\n\nconst {\n  ReadableStream, TextEncoder\n} = utils.global;\n\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst factory = (env) => {\n  env = utils.merge.call({\n    skipUndefined: true\n  }, globalFetchAPI, env);\n\n  const {fetch: envFetch, Request, Response} = env;\n  const isFetchSupported = envFetch ? isFunction(envFetch) : typeof fetch === 'function';\n  const isRequestSupported = isFunction(Request);\n  const isResponseSupported = isFunction(Response);\n\n  if (!isFetchSupported) {\n    return false;\n  }\n\n  const isReadableStreamSupported = isFetchSupported && isFunction(ReadableStream);\n\n  const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n      ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n      async (str) => new Uint8Array(await new Request(str).arrayBuffer())\n  );\n\n  const supportsRequestStream = isRequestSupported && isReadableStreamSupported && test(() => {\n    let duplexAccessed = false;\n\n    const hasContentType = new Request(platform.origin, {\n      body: new ReadableStream(),\n      method: 'POST',\n      get duplex() {\n        duplexAccessed = true;\n        return 'half';\n      },\n    }).headers.has('Content-Type');\n\n    return duplexAccessed && !hasContentType;\n  });\n\n  const supportsResponseStream = isResponseSupported && isReadableStreamSupported &&\n    test(() => utils.isReadableStream(new Response('').body));\n\n  const resolvers = {\n    stream: supportsResponseStream && ((res) => res.body)\n  };\n\n  isFetchSupported && ((() => {\n    ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n      !resolvers[type] && (resolvers[type] = (res, config) => {\n        let method = res && res[type];\n\n        if (method) {\n          return method.call(res);\n        }\n\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n    });\n  })());\n\n  const getBodyLength = async (body) => {\n    if (body == null) {\n      return 0;\n    }\n\n    if (utils.isBlob(body)) {\n      return body.size;\n    }\n\n    if (utils.isSpecCompliantForm(body)) {\n      const _request = new Request(platform.origin, {\n        method: 'POST',\n        body,\n      });\n      return (await _request.arrayBuffer()).byteLength;\n    }\n\n    if (utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n      return body.byteLength;\n    }\n\n    if (utils.isURLSearchParams(body)) {\n      body = body + '';\n    }\n\n    if (utils.isString(body)) {\n      return (await encodeText(body)).byteLength;\n    }\n  }\n\n  const resolveBodyLength = async (headers, body) => {\n    const length = utils.toFiniteNumber(headers.getContentLength());\n\n    return length == null ? getBodyLength(body) : length;\n  }\n\n  return async (config) => {\n    let {\n      url,\n      method,\n      data,\n      signal,\n      cancelToken,\n      timeout,\n      onDownloadProgress,\n      onUploadProgress,\n      responseType,\n      headers,\n      withCredentials = 'same-origin',\n      fetchOptions\n    } = resolveConfig(config);\n\n    let _fetch = envFetch || fetch;\n\n    responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n    let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n    let request = null;\n\n    const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n    });\n\n    let requestContentLength;\n\n    try {\n      if (\n        onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n        (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n      ) {\n        let _request = new Request(url, {\n          method: 'POST',\n          body: data,\n          duplex: \"half\"\n        });\n\n        let contentTypeHeader;\n\n        if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n          headers.setContentType(contentTypeHeader)\n        }\n\n        if (_request.body) {\n          const [onProgress, flush] = progressEventDecorator(\n            requestContentLength,\n            progressEventReducer(asyncDecorator(onUploadProgress))\n          );\n\n          data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n        }\n      }\n\n      if (!utils.isString(withCredentials)) {\n        withCredentials = withCredentials ? 'include' : 'omit';\n      }\n\n      // Cloudflare Workers throws when credentials are defined\n      // see https://github.com/cloudflare/workerd/issues/902\n      const isCredentialsSupported = isRequestSupported && \"credentials\" in Request.prototype;\n\n      const resolvedOptions = {\n        ...fetchOptions,\n        signal: composedSignal,\n        method: method.toUpperCase(),\n        headers: headers.normalize().toJSON(),\n        body: data,\n        duplex: \"half\",\n        credentials: isCredentialsSupported ? withCredentials : undefined\n      };\n\n      request = isRequestSupported && new Request(url, resolvedOptions);\n\n      let response = await (isRequestSupported ? _fetch(request, fetchOptions) : _fetch(url, resolvedOptions));\n\n      const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n      if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n        const options = {};\n\n        ['status', 'statusText', 'headers'].forEach(prop => {\n          options[prop] = response[prop];\n        });\n\n        const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n        const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n          responseContentLength,\n          progressEventReducer(asyncDecorator(onDownloadProgress), true)\n        ) || [];\n\n        response = new Response(\n          trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n            flush && flush();\n            unsubscribe && unsubscribe();\n          }),\n          options\n        );\n      }\n\n      responseType = responseType || 'text';\n\n      let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n      !isStreamResponse && unsubscribe && unsubscribe();\n\n      return await new Promise((resolve, reject) => {\n        settle(resolve, reject, {\n          data: responseData,\n          headers: AxiosHeaders.from(response.headers),\n          status: response.status,\n          statusText: response.statusText,\n          config,\n          request\n        })\n      })\n    } catch (err) {\n      unsubscribe && unsubscribe();\n\n      if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n        throw Object.assign(\n          new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n          {\n            cause: err.cause || err\n          }\n        )\n      }\n\n      throw AxiosError.from(err, err && err.code, config, request);\n    }\n  }\n}\n\nconst seedCache = new Map();\n\nexport const getFetch = (config) => {\n  let env = (config && config.env) || {};\n  const {fetch, Request, Response} = env;\n  const seeds = [\n    Request, Response, fetch\n  ];\n\n  let len = seeds.length, i = len,\n    seed, target, map = seedCache;\n\n  while (i--) {\n    seed = seeds[i];\n    target = map.get(seed);\n\n    target === undefined && map.set(seed, target = (i ? new Map() : factory(env)))\n\n    map = target;\n  }\n\n  return target;\n};\n\nconst adapter = getFetch();\n\nexport default adapter;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport * as fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\n/**\n * Known adapters mapping.\n * Provides environment-specific adapters for Axios:\n * - `http` for Node.js\n * - `xhr` for browsers\n * - `fetch` for fetch API-based requests\n * \n * @type {Object<string, Function|Object>}\n */\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: {\n    get: fetchAdapter.getFetch,\n  }\n};\n\n// Assign adapter names for easier debugging and identification\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', { value });\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', { value });\n  }\n});\n\n/**\n * Render a rejection reason string for unknown or unsupported adapters\n * \n * @param {string} reason\n * @returns {string}\n */\nconst renderReason = (reason) => `- ${reason}`;\n\n/**\n * Check if the adapter is resolved (function, null, or false)\n * \n * @param {Function|null|false} adapter\n * @returns {boolean}\n */\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\n/**\n * Get the first suitable adapter from the provided list.\n * Tries each adapter in order until a supported one is found.\n * Throws an AxiosError if no adapter is suitable.\n * \n * @param {Array<string|Function>|string|Function} adapters - Adapter(s) by name or function.\n * @param {Object} config - Axios request configuration\n * @throws {AxiosError} If no suitable adapter is available\n * @returns {Function} The resolved adapter function\n */\nfunction getAdapter(adapters, config) {\n  adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n  const { length } = adapters;\n  let nameOrAdapter;\n  let adapter;\n\n  const rejectedReasons = {};\n\n  for (let i = 0; i < length; i++) {\n    nameOrAdapter = adapters[i];\n    let id;\n\n    adapter = nameOrAdapter;\n\n    if (!isResolvedHandle(nameOrAdapter)) {\n      adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n      if (adapter === undefined) {\n        throw new AxiosError(`Unknown adapter '${id}'`);\n      }\n    }\n\n    if (adapter && (utils.isFunction(adapter) || (adapter = adapter.get(config)))) {\n      break;\n    }\n\n    rejectedReasons[id || '#' + i] = adapter;\n  }\n\n  if (!adapter) {\n    const reasons = Object.entries(rejectedReasons)\n      .map(([id, state]) => `adapter ${id} ` +\n        (state === false ? 'is not supported by the environment' : 'is not available in the build')\n      );\n\n    let s = length ?\n      (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n      'as no adapter specified';\n\n    throw new AxiosError(\n      `There is no suitable adapter to dispatch the request ` + s,\n      'ERR_NOT_SUPPORT'\n    );\n  }\n\n  return adapter;\n}\n\n/**\n * Exports Axios adapters and utility to resolve an adapter\n */\nexport default {\n  /**\n   * Resolve an adapter from a list of adapter names or functions.\n   * @type {Function}\n   */\n  getAdapter,\n\n  /**\n   * Exposes all known adapters\n   * @type {Object<string, Function|Object>}\n   */\n  adapters: knownAdapters\n};\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter, config);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.13.1\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n  WebServerIsDown: 521,\n  ConnectionTimedOut: 522,\n  OriginIsUnreachable: 523,\n  TimeoutOccurred: 524,\n  SslHandshakeFailed: 525,\n  InvalidSslCertificate: 526,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","/**\n * SoulBrowser specific API calls\n */\n\nimport axios, { AxiosInstance } from 'axios';\n\nexport interface PerceiveRequest {\n  url: string;\n  mode: 'all' | 'structural' | 'visual' | 'semantic' | 'custom';\n  screenshot?: boolean;\n  insights?: boolean;\n  structural?: boolean;\n  visual?: boolean;\n  semantic?: boolean;\n  timeout?: number;\n}\n\nexport interface PerceiveResponse {\n  success: boolean;\n  stdout?: string;\n  stderr?: string;\n  error?: string;\n  perception?: {\n    structural?: {\n      dom_node_count?: number;\n      form_count?: number;\n      interactive_count?: number;\n      text_node_count?: number;\n    };\n    visual?: {\n      dominant_colors?: string[];\n      viewport_width?: number;\n      viewport_height?: number;\n    };\n    semantic?: {\n      content_type?: string;\n      main_heading?: string;\n      language?: string;\n    };\n    insights?: Array<{\n      type: string;\n      message: string;\n      severity?: string;\n    }>;\n  };\n  screenshot_base64?: string;\n}\n\nexport interface PerceptionMetrics {\n  total_runs: number;\n  shared_hits: number;\n  shared_misses: number;\n  shared_failures: number;\n  ephemeral_runs: number;\n  failed_runs: number;\n  avg_duration_ms: number;\n}\n\nexport interface ContextSnapshot {\n  success?: boolean;\n  perception?: Record<string, unknown>;\n  screenshot_base64?: string;\n  stdout?: string;\n  stderr?: string;\n  error?: unknown;\n}\n\nexport interface ChatRequest {\n  prompt: string;\n  current_url?: string;\n  constraints?: string[];\n  execute?: boolean;\n  planner?: string;\n  llm_provider?: string;\n  llm_model?: string;\n  llm_api_base?: string;\n  llm_temperature?: number;\n  llm_max_output_tokens?: number;\n  capture_context?: boolean;\n  context_timeout_secs?: number;\n  context_screenshot?: boolean;\n}\n\nexport interface ChatResponse {\n  success: boolean;\n  plan?: any;\n  flow?: any;\n  artifacts?: any;\n  context?: ContextSnapshot;\n  stdout?: string;\n  stderr?: string;\n}\n\nexport interface TaskSummary {\n  task_id: string;\n  total_dispatches: number;\n  success_count: number;\n  failure_count: number;\n  last_status?: string | null;\n  last_tool?: string | null;\n  last_error?: string | null;\n  last_recorded_at?: string | null;\n  prompt?: string | null;\n  created_at?: string | null;\n  source?: string | null;\n  planner?: string | null;\n  llm_provider?: string | null;\n  llm_model?: string | null;\n}\n\nexport interface TaskStatusSnapshot {\n  task_id: string;\n  title: string;\n  status: string;\n  total_steps: number;\n  current_step?: number | null;\n  current_step_title?: string | null;\n  started_at?: string | null;\n  finished_at?: string | null;\n  last_error?: string | null;\n  last_updated_at: string;\n  plan_overlays?: any;\n  recent_evidence?: any[];\n  observation_history?: any[];\n  context_snapshot?: ContextSnapshot;\n}\n\nexport interface TaskLogEntry {\n  timestamp: string;\n  level: 'info' | 'warn' | 'error';\n  message: string;\n}\n\nexport interface TaskDispatchSummary {\n  action_id: string;\n  status: string;\n  tool: string;\n  attempts: number;\n  wait_ms: number;\n  run_ms: number;\n  pending: number;\n  slots_available: number;\n  route: Record<string, unknown>;\n  error?: string | null;\n  output?: Record<string, unknown> | null;\n  recorded_at: string;\n}\n\nexport interface PersistedPlanRecord {\n  version: number;\n  task_id: string;\n  prompt: string;\n  created_at: string;\n  source: string;\n  plan: Record<string, unknown>;\n  flow: Record<string, unknown>;\n  explanations: string[];\n  summary: string[];\n  constraints: string[];\n  current_url?: string | null;\n  planner: string;\n  llm_provider?: string | null;\n  llm_model?: string | null;\n  context_snapshot?: ContextSnapshot | null;\n}\n\nexport interface TaskDetailResponse {\n  success: boolean;\n  summary: TaskSummary;\n  dispatches: TaskDispatchSummary[];\n  plan?: PersistedPlanRecord | null;\n  annotations?: TaskAnnotation[];\n}\n\nexport interface ArtifactListItem {\n  attempt: number;\n  step_index: number;\n  step_id: string;\n  dispatch_label: string;\n  dispatch_index: number;\n  artifact_index: number;\n  action_id: string;\n  label: string;\n  content_type: string;\n  byte_len: number;\n  filename?: string | null;\n  path?: string | null;\n  data_base64?: string;\n}\n\nexport interface ArtifactSummary {\n  count: number;\n  total_bytes: number;\n  by_content_type: Record<string, number>;\n}\n\nexport interface TaskArtifactsResponse {\n  success: boolean;\n  task_id: string;\n  items: ArtifactListItem[];\n  summary: ArtifactSummary;\n}\n\nexport interface TaskListResponse {\n  success: boolean;\n  tasks: TaskSummary[];\n}\n\nexport interface TaskStatusResponse {\n  success: boolean;\n  status: TaskStatusSnapshot;\n}\n\nexport interface TaskLogsResponse {\n  success: boolean;\n  logs: TaskLogEntry[];\n}\n\nexport interface TaskObservationsResponse {\n  success: boolean;\n  task_id: string;\n  observations: Record<string, any>[];\n}\n\nexport interface RecordingSummary {\n  id: string;\n  state: string;\n  created_at: string;\n  updated_at: string;\n  name?: string;\n  url?: string | null;\n  has_agent_plan: boolean;\n}\n\nexport interface RecordingsListResponse {\n  success: boolean;\n  recordings: RecordingSummary[];\n}\n\nexport interface RecordingDetailResponse {\n  success: boolean;\n  recording: {\n    id: string;\n    state: string;\n    created_at: string;\n    updated_at: string;\n    metadata: Record<string, unknown>;\n  };\n}\n\nexport interface TaskAnnotation {\n  id: string;\n  step_id?: string | null;\n  dispatch_label?: string | null;\n  note: string;\n  bbox?: unknown;\n  author?: string | null;\n  severity?: string | null;\n  created_at: string;\n}\n\nexport interface CreateTaskAnnotationRequest {\n  step_id?: string;\n  dispatch_label?: string;\n  note: string;\n  bbox?: unknown;\n  author?: string;\n  severity?: string;\n}\n\nexport interface TaskAnnotationsResponse {\n  success: boolean;\n  annotations: TaskAnnotation[];\n}\n\nexport type OverlaySource = 'plan' | 'execution';\n\nexport interface OverlayEventPayload {\n  task_id: string;\n  source: OverlaySource;\n  data: Record<string, unknown>;\n  recorded_at: string;\n}\n\nexport type TaskStreamEvent =\n  | { event: 'status'; status: TaskStatusSnapshot }\n  | { event: 'log'; log: TaskLogEntry }\n  | { event: 'context'; context: ContextSnapshot }\n  | {\n      event: 'observation';\n      observation_type: string;\n      task_id: string;\n      step_id?: string | null;\n      dispatch_label?: string | null;\n      dispatch_index?: number | null;\n      screenshot_path?: string | null;\n      bbox?: unknown;\n      content_type?: string | null;\n      recorded_at?: string | null;\n      artifact: Record<string, unknown>;\n    }\n  | { event: 'overlay'; overlay: OverlayEventPayload }\n  | { event: 'annotation'; annotation: TaskAnnotation }\n  | { event: 'error'; message: string };\n\nexport interface TaskExecuteResponse {\n  success: boolean;\n  stdout: string[];\n  stderr: string[];\n  report: Record<string, unknown>;\n  artifacts?: any;\n}\n\nexport interface TaskExecuteRequest {\n  max_retries?: number;\n}\n\nexport interface TaskCancelResponse {\n  success: boolean;\n  cancelled: number;\n  message: string;\n}\n\nexport interface CreateTaskRequest {\n  prompt?: string;\n  current_url?: string;\n  constraints?: string[];\n  planner?: string;\n  llm_provider?: string;\n  llm_model?: string;\n  llm_api_base?: string;\n  llm_temperature?: number;\n  llm_api_key?: string;\n  llm_max_output_tokens?: number;\n  execute?: boolean;\n  max_replans?: number;\n  max_retries?: number;\n  capture_context?: boolean;\n  context_timeout_secs?: number;\n  context_screenshot?: boolean;\n  template_id?: string;\n  template_ref?: string;\n}\n\nexport interface CreateTaskResponse {\n  success: boolean;\n  task_id?: string;\n  stdout: string[];\n  stderr: string[];\n  plan?: any;\n  flow?: any;\n  artifacts?: any;\n  context?: ContextSnapshot | null;\n}\n\nexport interface MemoryRecord {\n  id: string;\n  namespace: string;\n  key: string;\n  tags: string[];\n  note?: string | null;\n  metadata?: Record<string, unknown> | null;\n  created_at: string;\n  use_count: number;\n  success_count: number;\n  last_used_at?: string | null;\n}\n\nexport interface MemoryStatsSnapshot {\n  total_queries: number;\n  hit_queries: number;\n  miss_queries: number;\n  hit_rate: number;\n  stored_records: number;\n  deleted_records: number;\n  current_records: number;\n  template_uses: number;\n  template_successes: number;\n  template_success_rate: number;\n}\n\nexport interface MemoryStatsWithTrends extends MemoryStatsSnapshot {\n  avg_query_rate?: number;\n  exporter_status?: string;\n}\n\nexport interface MemoryListParams {\n  namespace?: string;\n  tag?: string;\n  limit?: number;\n}\n\nexport interface MemoryListResponse {\n  success: boolean;\n  records: MemoryRecord[];\n}\n\nexport interface CreateMemoryRecordRequest {\n  namespace: string;\n  key: string;\n  tags?: string[];\n  note?: string;\n  metadata?: Record<string, unknown>;\n}\n\nexport interface CreateMemoryRecordResponse {\n  success: boolean;\n  record?: MemoryRecord;\n  error?: string;\n}\n\nexport interface DeleteMemoryRecordResponse {\n  success: boolean;\n  error?: string;\n}\n\nexport interface UpdateMemoryRecordRequest {\n  tags?: string[];\n  note?: string | null;\n  metadata?: unknown | null;\n}\n\ntype TaggedSelfHealAction =\n  | ({ type: 'auto_retry' } & { extra_attempts?: number })\n  | ({ type: 'annotate' } & { severity?: string; note?: string })\n  | ({ type: 'human_approval' } & { severity?: string });\n\ntype LegacySelfHealAction =\n  | { auto_retry: { extra_attempts?: number } }\n  | { annotate: { severity?: string; note?: string } }\n  | { human_approval: { severity?: string } };\n\ntype RawSelfHealAction = TaggedSelfHealAction | LegacySelfHealAction;\n\ninterface RawSelfHealStrategy {\n  id: string;\n  description: string;\n  enabled: boolean;\n  tags: string[];\n  telemetry_label?: string | null;\n  action: RawSelfHealAction;\n}\n\nexport type SelfHealAction =\n  | { kind: 'auto_retry'; extra_attempts: number }\n  | { kind: 'annotate'; severity?: string; note?: string }\n  | { kind: 'human_approval'; severity?: string };\n\nexport interface SelfHealStrategy {\n  id: string;\n  description: string;\n  enabled: boolean;\n  tags: string[];\n  telemetry_label?: string | null;\n  action: SelfHealAction;\n}\n\nexport interface GovernancePolicySummary {\n  revision: number;\n  scheduler_limits: {\n    global_slots: number;\n    per_task_limit: number;\n    queue_capacity: number;\n  };\n  scheduler_timeouts: {\n    navigate_ms: number;\n    click_ms: number;\n    type_text_ms: number;\n    wait_ms: number;\n    screenshot_ms: number;\n  };\n  retry: {\n    max_attempts: number;\n    backoff_ms: number;\n  };\n  registry: {\n    allow_multiple_pages: boolean;\n    health_probe_interval_ms: number;\n  };\n  features: {\n    state_center_persistence: boolean;\n    metrics_export: boolean;\n    registry_ingest_bus: boolean;\n  };\n}\n\nexport interface PolicyFileStatus {\n  path: string;\n  exists: boolean;\n}\n\nexport interface PluginGovernanceSummary {\n  total_registry_entries: number;\n  active_plugins: number;\n  pending_review: number;\n  last_reviewed_at?: string | null;\n  registry_path?: string | null;\n}\n\nexport interface GovernanceAlert {\n  level: 'info' | 'warning' | 'error';\n  message: string;\n  details?: string;\n}\n\nexport interface GovernanceOverview {\n  policy: GovernancePolicySummary;\n  policy_files: PolicyFileStatus[];\n  plugins: PluginGovernanceSummary;\n  alerts: GovernanceAlert[];\n}\n\nexport interface GatewayRunResponse {\n  success: boolean;\n  task_id: string;\n  stream_path: string;\n}\n\nconst envBase = import.meta.env.VITE_API_BASE_URL?.trim();\nconst DEFAULT_BASE_URL = envBase && envBase.length > 0 ? envBase : 'http://127.0.0.1:8801';\n\nconst normalizeSelfHealAction = (action: RawSelfHealAction): SelfHealAction => {\n  if ('type' in action) {\n    switch (action.type) {\n      case 'auto_retry':\n        return { kind: 'auto_retry', extra_attempts: action.extra_attempts ?? 0 };\n      case 'annotate':\n        return { kind: 'annotate', severity: action.severity, note: action.note };\n      case 'human_approval':\n        return { kind: 'human_approval', severity: action.severity };\n      default:\n        return { kind: 'annotate' };\n    }\n  }\n\n  if ('auto_retry' in action) {\n    return {\n      kind: 'auto_retry',\n      extra_attempts: action.auto_retry?.extra_attempts ?? 0,\n    };\n  }\n  if ('annotate' in action) {\n    return {\n      kind: 'annotate',\n      severity: action.annotate?.severity,\n      note: action.annotate?.note,\n    };\n  }\n  if ('human_approval' in action) {\n    return {\n      kind: 'human_approval',\n      severity: action.human_approval?.severity,\n    };\n  }\n\n  return { kind: 'annotate' };\n};\n\nconst normalizeSelfHealStrategy = (strategy: RawSelfHealStrategy): SelfHealStrategy => ({\n  id: strategy.id,\n  description: strategy.description,\n  enabled: strategy.enabled,\n  tags: strategy.tags ?? [],\n  telemetry_label: strategy.telemetry_label ?? undefined,\n  action: normalizeSelfHealAction(strategy.action),\n});\n\nclass SoulBrowserAPI {\n  private client: AxiosInstance;\n  private baseURL: string;\n\n  constructor(baseURL: string = DEFAULT_BASE_URL) {\n    this.baseURL = baseURL;\n    this.client = axios.create({\n      baseURL: baseURL || undefined,\n      timeout: 60000, // 60 seconds for browser operations\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  setBaseUrl(baseURL: string) {\n    this.baseURL = baseURL;\n    this.client.defaults.baseURL = baseURL || undefined;\n  }\n\n  getBaseUrl() {\n    return this.baseURL;\n  }\n\n  /**\n   * Execute multi-modal page perception\n   */\n  async perceive(request: PerceiveRequest): Promise<PerceiveResponse> {\n    const response = await this.client.post<PerceiveResponse>('/api/perceive', request);\n    return response.data;\n  }\n\n  async getPerceptionMetrics(): Promise<PerceptionMetrics> {\n    const response = await this.client.get<{ success: boolean; metrics: PerceptionMetrics }>(\n      '/api/perceive/metrics'\n    );\n    return response.data.metrics;\n  }\n\n  /**\n   * Generate task plan using L8 agent\n   */\n  async chat(request: ChatRequest): Promise<ChatResponse> {\n    const response = await this.client.post<ChatResponse>('/api/chat', request);\n    return response.data;\n  }\n\n  async listTasks(limit?: number): Promise<TaskSummary[]> {\n    const response = await this.client.get<TaskListResponse>('/api/tasks', {\n      params: limit ? { limit } : undefined,\n    });\n    return response.data.tasks;\n  }\n\n  async getTask(taskId: string, limit?: number): Promise<TaskDetailResponse> {\n    const response = await this.client.get<TaskDetailResponse>(`/api/tasks/${taskId}`, {\n      params: limit ? { limit } : undefined,\n    });\n    return response.data;\n  }\n\n  async getTaskStatus(taskId: string): Promise<TaskStatusSnapshot> {\n    const response = await this.client.get<TaskStatusResponse>(`/api/tasks/${taskId}/status`);\n    return response.data.status;\n  }\n\n  async getTaskLogs(taskId: string, since?: string): Promise<TaskLogEntry[]> {\n    const response = await this.client.get<TaskLogsResponse>(`/api/tasks/${taskId}/logs`, {\n      params: since ? { since } : undefined,\n    });\n    return response.data.logs;\n  }\n\n  async getTaskObservations(taskId: string, limit?: number): Promise<TaskObservationsResponse> {\n    const response = await this.client.get<TaskObservationsResponse>(\n      `/api/tasks/${taskId}/observations`,\n      { params: limit ? { limit } : undefined }\n    );\n    return response.data;\n  }\n\n  async listRecordings(limit?: number, state?: string): Promise<RecordingsListResponse> {\n    const response = await this.client.get<RecordingsListResponse>(`/api/recordings`, {\n      params: {\n        ...(limit ? { limit } : {}),\n        ...(state ? { state } : {}),\n      },\n    });\n    return response.data;\n  }\n\n  async getRecording(sessionId: string): Promise<RecordingDetailResponse> {\n    const response = await this.client.get<RecordingDetailResponse>(`/api/recordings/${sessionId}`);\n    return response.data;\n  }\n\n  async getTaskArtifacts(taskId: string): Promise<TaskArtifactsResponse> {\n    const response = await this.client.get<TaskArtifactsResponse>(\n      `/api/tasks/${taskId}/artifacts`\n    );\n    return response.data;\n  }\n\n  async getTaskAnnotations(taskId: string): Promise<TaskAnnotation[]> {\n    const response = await this.client.get<TaskAnnotationsResponse>(\n      `/api/tasks/${taskId}/annotations`\n    );\n    return response.data.annotations;\n  }\n\n  async createTaskAnnotation(\n    taskId: string,\n    payload: CreateTaskAnnotationRequest,\n  ): Promise<TaskAnnotation> {\n    const response = await this.client.post<{ success: boolean; annotation: TaskAnnotation }>(\n      `/api/tasks/${taskId}/annotations`,\n      payload,\n    );\n    return response.data.annotation;\n  }\n\n  async downloadTaskArtifact(taskId: string, artifactName: string): Promise<Blob> {\n    const response = await this.client.get<Blob>(\n      `/api/tasks/${taskId}/artifacts/${encodeURIComponent(artifactName)}`,\n      { responseType: 'blob' }\n    );\n    return response.data;\n  }\n\n  openTaskStream(taskId: string): WebSocket {\n    const base = this.baseURL || window.location.origin;\n    const url = new URL(base);\n    url.protocol = url.protocol === 'https:' ? 'wss:' : 'ws:';\n    url.pathname = `/api/tasks/${taskId}/stream`;\n    url.search = '';\n    url.hash = '';\n    return new WebSocket(url.toString());\n  }\n\n  async executeTask(\n    taskId: string,\n    payload?: TaskExecuteRequest,\n  ): Promise<TaskExecuteResponse> {\n    const response = await this.client.post<TaskExecuteResponse>(\n      `/api/tasks/${taskId}/execute`,\n      payload ?? {}\n    );\n    return response.data;\n  }\n\n  async cancelTask(taskId: string, reason?: string): Promise<TaskCancelResponse> {\n    const response = await this.client.post<TaskCancelResponse>(\n      `/api/tasks/${taskId}/cancel`,\n      { reason }\n    );\n    return response.data;\n  }\n\n  async createTask(payload: CreateTaskRequest): Promise<CreateTaskResponse> {\n    const response = await this.client.post<CreateTaskResponse>('/api/tasks', payload);\n    return response.data;\n  }\n\n  async listMemoryRecords(params?: MemoryListParams): Promise<MemoryRecord[]> {\n    const response = await this.client.get<MemoryListResponse>('/api/memory', {\n      params,\n    });\n    return response.data.records;\n  }\n\n  async createMemoryRecord(payload: CreateMemoryRecordRequest): Promise<MemoryRecord> {\n    const response = await this.client.post<CreateMemoryRecordResponse>('/api/memory', payload);\n    if (!response.data.success || !response.data.record) {\n      throw new Error(response.data.error || 'Failed to store memory record');\n    }\n    return response.data.record;\n  }\n\n  async deleteMemoryRecord(id: string): Promise<void> {\n    const response = await this.client.delete<DeleteMemoryRecordResponse>(`/api/memory/${id}`);\n    if (!response.data.success) {\n      throw new Error(response.data.error || 'Failed to delete memory record');\n    }\n  }\n\n  async updateMemoryRecord(\n    id: string,\n    payload: UpdateMemoryRecordRequest\n  ): Promise<MemoryRecord> {\n    const response = await this.client.put<{\n      success: boolean;\n      record?: MemoryRecord;\n      error?: string;\n    }>(`/api/memory/${id}`, payload);\n    if (!response.data.success || !response.data.record) {\n      throw new Error(response.data.error || 'Failed to update memory record');\n    }\n    return response.data.record;\n  }\n\n  async getMemoryStats(): Promise<MemoryStatsSnapshot> {\n    const response = await this.client.get<{ success: boolean; stats: MemoryStatsSnapshot }>(\n      '/api/memory/stats'\n    );\n    if (!response.data.success) {\n      throw new Error('Failed to fetch memory stats');\n    }\n    return response.data.stats;\n  }\n\n  async listSelfHealStrategies(): Promise<SelfHealStrategy[]> {\n    const response = await this.client.get<{\n      success: boolean;\n      strategies: RawSelfHealStrategy[];\n      error?: string;\n    }>('/api/self-heal/strategies');\n    if (!response.data.success) {\n      throw new Error(response.data.error || 'Failed to load self-heal strategies');\n    }\n    return response.data.strategies.map(normalizeSelfHealStrategy);\n  }\n\n  async setSelfHealStrategyEnabled(strategyId: string, enabled: boolean): Promise<void> {\n    const response = await this.client.post<{\n      success: boolean;\n      error?: string;\n    }>(`/api/self-heal/strategies/${strategyId}`, { enabled });\n    if (!response.data.success) {\n      throw new Error(response.data.error || 'Failed to update strategy');\n    }\n  }\n\n  async getGovernanceOverview(): Promise<GovernanceOverview> {\n    const response = await this.client.get<{\n      success: boolean;\n      policy: GovernancePolicySummary;\n      policy_files: PolicyFileStatus[];\n      plugins: PluginGovernanceSummary;\n      alerts: GovernanceAlert[];\n      error?: string;\n    }>('/api/governance/overview');\n    if (!response.data.success) {\n      throw new Error(response.data.error || 'Failed to load governance overview');\n    }\n    return {\n      policy: response.data.policy,\n      policy_files: response.data.policy_files,\n      plugins: response.data.plugins,\n      alerts: response.data.alerts,\n    };\n  }\n\n  async runGatewayPlan(record: PersistedPlanRecord): Promise<GatewayRunResponse> {\n    const planPayload = { ...(record.plan as Record<string, unknown>) };\n    if ('overlays' in planPayload) {\n      delete (planPayload as Record<string, unknown>).overlays;\n    }\n    const contextSnapshot = record.current_url\n      ? {\n          current_url: record.current_url,\n        }\n      : undefined;\n    const response = await this.client.post<GatewayRunResponse & { success: boolean; error?: string }>(\n      '/v1/tasks/run',\n      {\n        plan: planPayload,\n        prompt: record.prompt,\n        constraints: record.constraints ?? [],\n        context: contextSnapshot,\n      }\n    );\n    if (!response.data.success) {\n      throw new Error(response.data.error || 'Gateway 执行失败');\n    }\n    return {\n      success: response.data.success,\n      task_id: response.data.task_id,\n      stream_path: response.data.stream_path,\n    };\n  }\n\n  /**\n   * Health check\n   */\n  async health(): Promise<{ status: string }> {\n    const response = await this.client.get('/health');\n    return response.data;\n  }\n}\n\nexport const soulbrowserAPI = new SoulBrowserAPI();\nexport default soulbrowserAPI;\n","import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { soulbrowserAPI } from '@/api/soulbrowser';\n\nexport type BackendStatus = 'unknown' | 'checking' | 'online' | 'offline';\n\ninterface BackendConfigState {\n  baseUrl: string;\n  status: BackendStatus;\n  lastChecked?: string;\n  setBaseUrl: (url: string) => void;\n  setStatus: (status: BackendStatus, checkedAt?: string) => void;\n}\n\nconst defaultBaseUrl = soulbrowserAPI.getBaseUrl();\n\nconst normalizeUrl = (url: string) => url.replace(/\\/+$/, '').toLowerCase();\nconst legacyBaseUrls = new Set([\n  '',\n  'http://127.0.0.1:8788',\n  'http://localhost:8788',\n  'http://0.0.0.0:8788',\n  'http://127.0.0.1:8800',\n  'http://localhost:8800',\n  'http://0.0.0.0:8800',\n]);\n\nexport const useBackendConfigStore = create<BackendConfigState>()(\n  persist(\n    (set) => ({\n      baseUrl: defaultBaseUrl,\n      status: 'unknown',\n      lastChecked: undefined,\n      setBaseUrl: (url) => {\n        const trimmed = url.trim();\n        soulbrowserAPI.setBaseUrl(trimmed);\n        set({ baseUrl: trimmed, status: 'unknown' });\n      },\n      setStatus: (status, checkedAt) =>\n        set((state) => ({\n          status,\n          lastChecked:\n            status === 'online' || status === 'offline'\n              ? checkedAt ?? new Date().toISOString()\n              : state.lastChecked,\n        })),\n    }),\n    {\n      name: 'soulbrowser-backend-config',\n      version: 3,\n      migrate: (persistedState: unknown, _version) => {\n        const state = persistedState as BackendConfigState | undefined;\n        if (!state) return state;\n        const normalized = normalizeUrl(state.baseUrl ?? '');\n        if (legacyBaseUrls.has(normalized)) {\n          return { ...state, baseUrl: defaultBaseUrl };\n        }\n        return state;\n      },\n      partialize: (state) => ({ baseUrl: state.baseUrl }),\n      onRehydrateStorage: () => (state) => {\n        if (!state) return;\n        const normalized = normalizeUrl(state.baseUrl ?? '');\n        if (legacyBaseUrls.has(normalized)) {\n          state.setBaseUrl(defaultBaseUrl);\n          return;\n        }\n        if (state.baseUrl) {\n          soulbrowserAPI.setBaseUrl(state.baseUrl);\n        }\n      },\n    }\n  )\n);\n","import { useEffect, useState } from 'react';\nimport { Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport { Layout, Menu, Tag, Tooltip } from 'antd';\nimport {\n  EyeOutlined,\n  MessageOutlined,\n  ApiOutlined,\n  UnorderedListOutlined,\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  SyncOutlined,\n  SafetyCertificateOutlined,\n} from '@ant-design/icons';\nimport styles from './MainLayout.module.css';\nimport { useBackendConfigStore } from '@/stores/backendConfigStore';\nimport soulbrowserAPI from '@/api/soulbrowser';\nimport dayjs from 'dayjs';\n\nconst { Header, Sider, Content } = Layout;\n\nexport default function MainLayout() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [collapsed, setCollapsed] = useState(false);\n  const { baseUrl, status, lastChecked, setStatus } = useBackendConfigStore();\n\n  useEffect(() => {\n    let cancelled = false;\n\n    const checkHealth = async () => {\n      setStatus('checking');\n      try {\n        await soulbrowserAPI.health();\n        if (!cancelled) {\n          setStatus('online');\n        }\n      } catch (err) {\n        if (!cancelled) {\n          setStatus('offline');\n        }\n      }\n    };\n\n    checkHealth();\n    const interval = setInterval(checkHealth, 60000);\n\n    return () => {\n      cancelled = true;\n      clearInterval(interval);\n    };\n  }, [baseUrl, setStatus]);\n\n  const tagConfig = {\n    online: {\n      color: 'success' as const,\n      icon: <CheckCircleOutlined />,\n      text: 'API 在线',\n    },\n    checking: {\n      color: 'processing' as const,\n      icon: <SyncOutlined spin />,\n      text: '检测中...',\n    },\n    offline: {\n      color: 'error' as const,\n      icon: <CloseCircleOutlined />,\n      text: 'API 未连接',\n    },\n    unknown: {\n      color: 'default' as const,\n      icon: <SyncOutlined />,\n      text: '等待检测',\n    },\n  }[status];\n\n  const menuItems = [\n    {\n      key: '/chat',\n      icon: <MessageOutlined />,\n      label: 'AI 对话',\n    },\n    {\n      key: '/perceive',\n      icon: <EyeOutlined />,\n      label: '页面感知',\n    },\n    {\n      key: '/tasks',\n      icon: <UnorderedListOutlined />,\n      label: '任务中心',\n    },\n    {\n      key: '/diagnostics',\n      icon: <ApiOutlined />,\n      label: '接口诊断',\n    },\n    {\n      key: '/governance',\n      icon: <SafetyCertificateOutlined />,\n      label: '治理中心',\n    },\n  ];\n\n  return (\n    <Layout className={styles.layout}>\n      <Header className={styles.header}>\n        <div className={styles.logo}>\n          <span className={styles.logoIcon}>🤖</span>\n          <span className={styles.logoText}>SoulBrowser Console</span>\n        </div>\n        <div className={styles.headerRight}>\n          <Tooltip\n            title={\n              <div>\n                <div>目标：{baseUrl || '当前域名'}</div>\n                {lastChecked && <div>最近检测：{dayjs(lastChecked).format('HH:mm:ss')}</div>}\n              </div>\n            }\n          >\n            <Tag icon={tagConfig.icon} color={tagConfig.color}>\n              {tagConfig.text}\n            </Tag>\n          </Tooltip>\n          <span className={styles.version} style={{ marginLeft: '12px' }}>v1.0.0</span>\n        </div>\n      </Header>\n      <Layout>\n        <Sider\n          collapsible\n          collapsed={collapsed}\n          onCollapse={setCollapsed}\n          theme=\"dark\"\n          width={200}\n          className={styles.sider}\n        >\n          <Menu\n            mode=\"inline\"\n            selectedKeys={[location.pathname]}\n            items={menuItems}\n            onClick={({ key }) => navigate(key)}\n            theme=\"dark\"\n          />\n        </Sider>\n        <Content className={styles.content}>\n          <Outlet />\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nvar cachedCtorStrings = /* @__PURE__ */ new WeakMap();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = Object.getPrototypeOf(value);\n  if (proto === null || proto === Object.prototype)\n    return true;\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  if (typeof Ctor !== \"function\")\n    return false;\n  let ctorString = cachedCtorStrings.get(Ctor);\n  if (ctorString === void 0) {\n    ctorString = Function.toString.call(Ctor);\n    cachedCtorStrings.set(Ctor, ctorString);\n  }\n  return ctorString === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter, strict = true) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    const keys = strict ? Reflect.ownKeys(obj) : Object.keys(obj);\n    keys.forEach((key) => {\n      iter(key, obj[key], obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  const isPlain = isPlainObject(base);\n  if (strict === true || strict === \"class_only\" && !isPlain) {\n    const descriptors = Object.getOwnPropertyDescriptors(base);\n    delete descriptors[DRAFT_STATE];\n    let keys = Reflect.ownKeys(descriptors);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const desc = descriptors[key];\n      if (desc.writable === false) {\n        desc.writable = true;\n        desc.configurable = true;\n      }\n      if (desc.get || desc.set)\n        descriptors[key] = {\n          configurable: true,\n          writable: true,\n          // could live with !!desc.set as well here...\n          enumerable: desc.enumerable,\n          value: base[key]\n        };\n    }\n    return Object.create(getPrototypeOf(base), descriptors);\n  } else {\n    const proto = getPrototypeOf(base);\n    if (proto !== null && isPlain) {\n      return { ...base };\n    }\n    const obj = Object.create(proto);\n    return Object.assign(obj, base);\n  }\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    Object.defineProperties(obj, {\n      set: dontMutateMethodOverride,\n      add: dontMutateMethodOverride,\n      clear: dontMutateMethodOverride,\n      delete: dontMutateMethodOverride\n    });\n  }\n  Object.freeze(obj);\n  if (deep)\n    Object.values(obj).forEach((value) => freeze(value, true));\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nvar dontMutateMethodOverride = {\n  value: dontMutateFrozenCollections\n};\nfunction isFrozen(obj) {\n  if (obj === null || typeof obj !== \"object\")\n    return true;\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const useStrictIteration = rootScope.immer_.shouldUseStrictIteration();\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path),\n      useStrictIteration\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(\n        rootScope,\n        state,\n        result,\n        key,\n        childValue,\n        path,\n        isSet2\n      ),\n      useStrictIteration\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (childValue == null) {\n    return;\n  }\n  if (typeof childValue !== \"object\" && !targetIsSet) {\n    return;\n  }\n  const childIsFrozen = isFrozen(childValue);\n  if (childIsFrozen && !targetIsSet) {\n    return;\n  }\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !childIsFrozen) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    if (parentState && parentState.base_ && parentState.base_[prop] === childValue && childIsFrozen) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if ((!parentState || !parentState.scope_.parent_) && typeof prop !== \"symbol\" && (isMap(targetObject) ? targetObject.has(prop) : Object.prototype.propertyIsEnumerable.call(targetObject, prop)))\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    this.useStrictIteration_ = true;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n    if (typeof config?.useStrictIteration === \"boolean\")\n      this.setUseStrictIteration(config.useStrictIteration);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  /**\n   * Pass false to use faster iteration that skips non-enumerable properties\n   * but still handles symbols for compatibility.\n   *\n   * By default, strict iteration is enabled (includes all own properties).\n   */\n  setUseStrictIteration(value) {\n    this.useStrictIteration_ = value;\n  }\n  shouldUseStrictIteration() {\n    return this.useStrictIteration_;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  let strict = true;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n    strict = state.scope_.immer_.shouldUseStrictIteration();\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(\n    copy,\n    (key, childValue) => {\n      set(copy, key, currentImpl(childValue));\n    },\n    strict\n  );\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = /* @__PURE__ */ immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = /* @__PURE__ */ immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = /* @__PURE__ */ immer.setUseStrictShallowCopy.bind(\n  immer\n);\nvar setUseStrictIteration = /* @__PURE__ */ immer.setUseStrictIteration.bind(\n  immer\n);\nvar applyPatches = /* @__PURE__ */ immer.applyPatches.bind(immer);\nvar createDraft = /* @__PURE__ */ immer.createDraft.bind(immer);\nvar finishDraft = /* @__PURE__ */ immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictIteration,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","import { produce } from 'immer';\n\nconst immerImpl = (initializer) => (set, get, store) => {\n  store.setState = (updater, replace, ...a) => {\n    const nextState = typeof updater === \"function\" ? produce(updater) : updater;\n    return set(nextState, replace, ...a);\n  };\n  return initializer(store.setState, get, store);\n};\nconst immer = immerImpl;\n\nexport { immer };\n","/**\n * Chat state management store\n */\n\nimport { create } from 'zustand';\nimport { immer } from 'zustand/middleware/immer';\nimport type { TaskPlan } from '@/types';\n\nexport interface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: Date;\n  taskPlan?: TaskPlan;\n  suggestions?: string[];\n}\n\ninterface ChatState {\n  // State\n  messages: ChatMessage[];\n  isTyping: boolean;\n  currentPlan: TaskPlan | null;\n\n  // Actions\n  addMessage: (message: Omit<ChatMessage, 'id' | 'timestamp'>) => void;\n  clearMessages: () => void;\n  setTyping: (isTyping: boolean) => void;\n  setCurrentPlan: (plan: TaskPlan | null) => void;\n}\n\nlet messageIdCounter = 0;\n\nexport const useChatStore = create<ChatState>()(\n  immer((set) => ({\n    // Initial state\n    messages: [],\n    isTyping: false,\n    currentPlan: null,\n\n    // Actions\n    addMessage: (message) =>\n      set((state) => {\n        const newMessage: ChatMessage = {\n          ...message,\n          id: `msg-${++messageIdCounter}`,\n          timestamp: new Date(),\n        };\n        state.messages.push(newMessage);\n      }),\n\n    clearMessages: () =>\n      set((state) => {\n        state.messages = [];\n        state.currentPlan = null;\n      }),\n\n    setTyping: (isTyping) =>\n      set((state) => {\n        state.isTyping = isTyping;\n      }),\n\n    setCurrentPlan: (plan) =>\n      set((state) => {\n        state.currentPlan = plan;\n      }),\n  }))\n);\n\n// Selectors\nexport const selectLastMessage = (state: ChatState) =>\n  state.messages[state.messages.length - 1];\n\nexport const selectMessageCount = (state: ChatState) => state.messages.length;\n","import { Card, List, Tag } from 'antd';\nimport {\n  FormOutlined,\n  SearchOutlined,\n  ExperimentOutlined,\n  LineChartOutlined,\n  PlusOutlined,\n} from '@ant-design/icons';\nimport styles from './TemplateSelector.module.css';\n\ninterface Template {\n  id: string;\n  title: string;\n  description: string;\n  icon: React.ReactNode;\n  prompt: string;\n  tags: string[];\n}\n\nconst templates: Template[] = [\n  {\n    id: 'form-fill',\n    title: '表单自动填写',\n    description: '自动填写网页表单',\n    icon: <FormOutlined />,\n    prompt: '帮我填写 example.com 的联系表单，姓名填 \"张三\"，邮箱填 \"zhangsan@example.com\"',\n    tags: ['表单', '常用'],\n  },\n  {\n    id: 'data-scraping',\n    title: '网页数据采集',\n    description: '从网页提取数据',\n    icon: <SearchOutlined />,\n    prompt: '从 example.com 采集产品列表，包括产品名称、价格和图片链接',\n    tags: ['采集', '数据'],\n  },\n  {\n    id: 'auto-test',\n    title: '自动化测试',\n    description: '执行自动化测试流程',\n    icon: <ExperimentOutlined />,\n    prompt: '测试 example.com 的登录功能，使用用户名 \"test\" 和密码 \"123456\"',\n    tags: ['测试', '质量'],\n  },\n  {\n    id: 'monitoring',\n    title: '竞品监控',\n    description: '监控竞品价格变化',\n    icon: <LineChartOutlined />,\n    prompt: '监控 competitor.com 的产品价格，每天检查一次并报告变化',\n    tags: ['监控', '定时'],\n  },\n];\n\ninterface Props {\n  onSelect: (prompt: string) => void;\n}\n\nexport default function TemplateSelector({ onSelect }: Props) {\n  return (\n    <Card title=\"任务模板\" className={styles.card}>\n      <List\n        dataSource={templates}\n        renderItem={(template) => (\n          <List.Item\n            className={styles.templateItem}\n            onClick={() => onSelect(template.prompt)}\n          >\n            <div className={styles.templateIcon}>{template.icon}</div>\n            <div className={styles.templateContent}>\n              <div className={styles.templateTitle}>{template.title}</div>\n              <div className={styles.templateDescription}>{template.description}</div>\n              <div className={styles.templateTags}>\n                {template.tags.map((tag) => (\n                  <Tag key={tag}>\n                    {tag}\n                  </Tag>\n                ))}\n              </div>\n            </div>\n          </List.Item>\n        )}\n      />\n\n      <div className={styles.createCustom} onClick={() => onSelect('')}>\n        <PlusOutlined />\n        <span>自定义任务</span>\n      </div>\n    </Card>\n  );\n}\n","import { useState, useRef, useEffect } from 'react';\nimport {\n  Input,\n  Button,\n  Card,\n  Space,\n  Tag,\n  Spin,\n  message,\n  List,\n  Select,\n  Typography,\n} from 'antd';\nimport {\n  SendOutlined,\n  RobotOutlined,\n  UserOutlined,\n  CheckCircleOutlined,\n  ClockCircleOutlined,\n} from '@ant-design/icons';\nimport { useChatStore } from '@/stores/chatStore';\nimport { soulbrowserAPI } from '@/api/soulbrowser';\nimport TemplateSelector from './TemplateSelector';\nimport styles from './ChatPage.module.css';\n\nconst { TextArea } = Input;\nconst { Paragraph } = Typography;\n\nconst plannerOptions = [\n  { label: 'LLM 计划器', value: 'llm' },\n  { label: '规则计划器', value: 'rule' },\n];\n\nconst llmProviderOptions = [\n  { label: 'OpenAI', value: 'openai' },\n  { label: 'Claude', value: 'claude' },\n  { label: 'Mock (测试)', value: 'mock' },\n];\n\nconst isAgentNoteStep = (step: any) => {\n  if (!step?.tool?.kind) return false;\n  const kind = step.tool.kind as Record<string, any>;\n  if ('Custom' in kind) {\n    return kind.Custom?.name === 'agent.note';\n  }\n  return false;\n};\n\nexport default function ChatPage() {\n  const [input, setInput] = useState('');\n  const [planner, setPlanner] = useState<'llm' | 'rule'>('llm');\n  const [llmProvider, setLlmProvider] = useState('openai');\n  const [llmModel, setLlmModel] = useState('gpt-4o-mini');\n  const [lastPrompt, setLastPrompt] = useState('');\n\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const { messages, isTyping, addMessage, setTyping, setCurrentPlan } = useChatStore();\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    addMessage({ role: 'user', content: input });\n\n    setTyping(true);\n    const userInput = input;\n    setInput('');\n    setLastPrompt(userInput);\n\n    try {\n      const payload: any = {\n        prompt: userInput,\n        execute: false,\n        planner,\n      };\n      if (planner === 'llm') {\n        if (!llmModel.trim()) {\n          message.warning('请填写 LLM 模型名称');\n          setTyping(false);\n          return;\n        }\n        payload.llm_provider = llmProvider;\n        payload.llm_model = llmModel.trim();\n      }\n\n      const response = await soulbrowserAPI.chat(payload);\n      setTyping(false);\n\n      if (response.success && response.plan) {\n        const steps = response.plan?.plan?.steps ?? [];\n        const actionableSteps = steps.filter((step: any) => !isAgentNoteStep(step));\n        const summary = actionableSteps.length\n          ? `已生成 ${steps.length} 个步骤（其中 ${actionableSteps.length} 个可自动执行），请查看详情。`\n          : '未检测到可执行步骤，建议补充更详细的操作描述或切换为 LLM 计划器。';\n        const suggestions = actionableSteps.length\n          ? undefined\n          : ['补充更具体的页面元素和操作', '切换 Planner 为 LLM 并指定模型'];\n\n        addMessage({\n          role: 'assistant',\n          content: summary,\n          taskPlan: response.plan,\n          suggestions,\n        });\n        setCurrentPlan(response.plan);\n      } else {\n        addMessage({\n          role: 'assistant',\n          content: response.stderr || '抱歉，无法生成任务计划。请检查输入或稍后重试。',\n        });\n      }\n    } catch (err: any) {\n      setTyping(false);\n      const hint = err?.response?.data?.error || '请确认后端服务已启动且 API Key 可用';\n      addMessage({\n        role: 'assistant',\n        content: `抱歉，服务暂时不可用。${hint}`,\n      });\n      message.error('请先启动后端服务: cargo run -- --metrics-port 0 serve --port 8801');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleTemplateSelect = (template: string) => {\n    setInput(template);\n  };\n\n  const handleExecutePlan = async () => {\n    if (!lastPrompt.trim()) {\n      message.warning('请先提交任务描述');\n      return;\n    }\n    try {\n      const payload: any = {\n        prompt: lastPrompt,\n        planner,\n        execute: true,\n        max_replans: planner === 'llm' ? 1 : 0,\n      };\n      if (planner === 'llm') {\n        payload.llm_provider = llmProvider;\n        payload.llm_model = llmModel.trim();\n      }\n      const res = await soulbrowserAPI.createTask(payload);\n      if (res.success) {\n        message.success('任务已创建并开始执行，可在“任务中心”查看进度');\n      } else {\n        message.error(res.stderr?.join('\\n') || '创建任务失败');\n      }\n    } catch (err: any) {\n      message.error(err?.response?.data?.error || '创建任务失败，请检查后端日志');\n    }\n  };\n\n  const renderPlanCard = (plan: any) => {\n    const steps = plan?.plan?.steps ?? [];\n    return (\n      <Card\n        title={\n          <Space>\n            <span>任务计划</span>\n            {plan?.plan?.task_id && <Tag color=\"blue\">ID: {plan.plan.task_id}</Tag>}\n          </Space>\n        }\n        className={styles.taskPlanCard}\n        size=\"small\"\n      >\n        <List\n          size=\"small\"\n          dataSource={steps}\n          locale={{ emptyText: '暂无步骤' }}\n          renderItem={(step: any, index) => (\n            <List.Item>\n              <List.Item.Meta\n                avatar={\n                  isAgentNoteStep(step) ? (\n                    <ClockCircleOutlined />\n                  ) : (\n                    <CheckCircleOutlined style={{ color: '#52c41a' }} />\n                  )\n                }\n                title={`步骤 ${index + 1}: ${step.title || step.detail || step.id}`}\n                description={step.detail || step.metadata?.source?.action || '—'}\n              />\n              {isAgentNoteStep(step) && <Tag>提示</Tag>}\n            </List.Item>\n          )}\n        />\n        <div className={styles.planActions}>\n          <Button type=\"primary\" onClick={handleExecutePlan} size=\"small\">\n            执行此计划\n          </Button>\n          <Paragraph type=\"secondary\" className={styles.planHint}>\n            任务将创建到“任务中心”，执行结果可在右上角入口查看。\n          </Paragraph>\n        </div>\n      </Card>\n    );\n  };\n\n  return (\n    <div className={styles.chatPage}>\n      <div className={styles.sidebar}>\n        <TemplateSelector onSelect={handleTemplateSelect} />\n      </div>\n\n      <div className={styles.chatContainer}>\n        <div className={styles.messages}>\n          {messages.length === 0 && (\n            <div className={styles.welcome}>\n              <RobotOutlined style={{ fontSize: 48, color: '#1890ff' }} />\n              <h2>你好！我可以帮你完成网页自动化任务</h2>\n              <p>请描述你想要做什么，或者选择一个任务模板</p>\n            </div>\n          )}\n\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className={`${styles.message} ${\n                message.role === 'user' ? styles.userMessage : styles.assistantMessage\n              }`}\n            >\n              <div className={styles.messageAvatar}>\n                {message.role === 'user' ? <UserOutlined /> : <RobotOutlined />}\n              </div>\n              <div className={styles.messageContent}>\n                <div className={styles.messageText}>{message.content}</div>\n\n                {message.taskPlan && renderPlanCard(message.taskPlan)}\n\n                {message.suggestions && message.suggestions.length > 0 && (\n                  <Space wrap className={styles.suggestions}>\n                    {message.suggestions.map((suggestion, index) => (\n                      <Tag\n                        key={index}\n                        onClick={() => setInput(suggestion)}\n                        style={{ cursor: 'pointer' }}\n                      >\n                        {suggestion}\n                      </Tag>\n                    ))}\n                  </Space>\n                )}\n              </div>\n            </div>\n          ))}\n\n          {isTyping && (\n            <div className={`${styles.message} ${styles.assistantMessage}`}>\n              <div className={styles.messageAvatar}>\n                <RobotOutlined />\n              </div>\n              <div className={styles.messageContent}>\n                <Spin size=\"small\" /> <span className={styles.typingText}>正在思考...</span>\n              </div>\n            </div>\n          )}\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        <div className={styles.inputArea}>\n          <Card bordered={false} className={styles.inputCard}>\n            <div className={styles.plannerControls}>\n              <Space wrap>\n                <Select\n                  value={planner}\n                  options={plannerOptions}\n                  onChange={(value) => setPlanner(value as 'llm' | 'rule')}\n                  size=\"small\"\n                  style={{ width: 140 }}\n                />\n                {planner === 'llm' && (\n                  <>\n                    <Select\n                      value={llmProvider}\n                      options={llmProviderOptions}\n                      onChange={(value) => setLlmProvider(value)}\n                      size=\"small\"\n                      style={{ width: 140 }}\n                    />\n                    <Input\n                      value={llmModel}\n                      onChange={(e) => setLlmModel(e.target.value)}\n                      size=\"small\"\n                      placeholder=\"模型名称，例如 gpt-4o-mini\"\n                      style={{ width: 220 }}\n                    />\n                  </>\n                )}\n              </Space>\n            </div>\n            <Paragraph type=\"secondary\" className={styles.helperText}>\n              建议描述具体页面和操作；LLM 模式依赖后端环境变量中的 API Key。\n            </Paragraph>\n            <TextArea\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"请输入任务描述... (Shift+Enter 换行)\"\n              autoSize={{ minRows: 3, maxRows: 8 }}\n              className={styles.textarea}\n            />\n            <div className={styles.inputActions}>\n              <Button\n                type=\"primary\"\n                icon={<SendOutlined />}\n                onClick={handleSend}\n                disabled={!input.trim() || isTyping}\n                size=\"large\"\n              >\n                发送\n              </Button>\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport {\n  Card,\n  Form,\n  Input,\n  Select,\n  Button,\n  Checkbox,\n  Space,\n  Alert,\n  Descriptions,\n  Tag,\n  Image,\n  Collapse,\n  Spin,\n} from 'antd';\nimport { PlayCircleOutlined, CodeOutlined, FileImageOutlined } from '@ant-design/icons';\nimport { soulbrowserAPI, type PerceiveRequest, type PerceiveResponse } from '@/api/soulbrowser';\nimport styles from './PerceivePage.module.css';\n\nconst { Panel } = Collapse;\n\nexport default function PerceivePage() {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState<PerceiveResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (values: any) => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const request: PerceiveRequest = {\n        url: values.url,\n        mode: values.mode,\n        screenshot: values.screenshot,\n        insights: values.insights,\n      };\n\n      if (values.mode === 'custom') {\n        request.structural = values.structural;\n        request.visual = values.visual;\n        request.semantic = values.semantic;\n      }\n\n      const response = await soulbrowserAPI.perceive(request);\n      setResult(response);\n\n      if (!response.success) {\n        setError('Perception failed. Check stderr output below.');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to execute perception');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderStructuralData = () => {\n    if (!result?.perception?.structural) return null;\n\n    const data = result.perception.structural;\n    return (\n      <Card title=\"🏗️ Structural Perception\" size=\"small\" className={styles.resultCard}>\n        <Descriptions column={2} size=\"small\">\n          <Descriptions.Item label=\"DOM Nodes\">{data.dom_node_count}</Descriptions.Item>\n          <Descriptions.Item label=\"Forms\">{data.form_count}</Descriptions.Item>\n          <Descriptions.Item label=\"Interactive Elements\">\n            {data.interactive_count}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Text Nodes\">{data.text_node_count}</Descriptions.Item>\n        </Descriptions>\n      </Card>\n    );\n  };\n\n  const renderVisualData = () => {\n    if (!result?.perception?.visual) return null;\n\n    const data = result.perception.visual;\n    return (\n      <Card title=\"🎨 Visual Perception\" size=\"small\" className={styles.resultCard}>\n        <Descriptions column={2} size=\"small\">\n          <Descriptions.Item label=\"Viewport\">\n            {data.viewport_width} × {data.viewport_height}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"Dominant Colors\">\n            <Space>\n              {data.dominant_colors?.map((color, index) => (\n                <Tag key={index} color={color}>\n                  {color}\n                </Tag>\n              ))}\n            </Space>\n          </Descriptions.Item>\n        </Descriptions>\n      </Card>\n    );\n  };\n\n  const renderSemanticData = () => {\n    if (!result?.perception?.semantic) return null;\n\n    const data = result.perception.semantic;\n    return (\n      <Card title=\"🧠 Semantic Perception\" size=\"small\" className={styles.resultCard}>\n        <Descriptions column={1} size=\"small\">\n          <Descriptions.Item label=\"Content Type\">{data.content_type}</Descriptions.Item>\n          <Descriptions.Item label=\"Main Heading\">{data.main_heading}</Descriptions.Item>\n          <Descriptions.Item label=\"Language\">{data.language}</Descriptions.Item>\n        </Descriptions>\n      </Card>\n    );\n  };\n\n  const renderInsights = () => {\n    if (!result?.perception?.insights || result.perception.insights.length === 0) return null;\n\n    return (\n      <Card title=\"💡 Insights\" size=\"small\" className={styles.resultCard}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          {result.perception.insights.map((insight, index) => (\n            <Alert\n              key={index}\n              message={insight.type}\n              description={insight.message}\n              type={insight.severity === 'warning' ? 'warning' : 'info'}\n              showIcon\n            />\n          ))}\n        </Space>\n      </Card>\n    );\n  };\n\n  return (\n    <div className={styles.perceivePage}>\n      <Card title=\"🔍 Multi-Modal Page Perception\" className={styles.card}>\n        <Form\n          form={form}\n          layout=\"vertical\"\n          initialValues={{\n            url: 'https://example.com',\n            mode: 'all',\n            screenshot: true,\n            insights: true,\n          }}\n          onFinish={handleSubmit}\n        >\n          <Form.Item\n            label=\"Target URL\"\n            name=\"url\"\n            rules={[{ required: true, message: 'Please enter a URL' }]}\n          >\n            <Input placeholder=\"https://example.com\" size=\"large\" />\n          </Form.Item>\n\n          <Form.Item label=\"Perception Mode\" name=\"mode\">\n            <Select size=\"large\">\n              <Select.Option value=\"all\">All (Structural + Visual + Semantic)</Select.Option>\n              <Select.Option value=\"structural\">Structural Only</Select.Option>\n              <Select.Option value=\"visual\">Visual Only</Select.Option>\n              <Select.Option value=\"semantic\">Semantic Only</Select.Option>\n              <Select.Option value=\"custom\">Custom Selection</Select.Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item noStyle shouldUpdate={(prev, curr) => prev.mode !== curr.mode}>\n            {({ getFieldValue }) =>\n              getFieldValue('mode') === 'custom' ? (\n                <Space direction=\"vertical\" style={{ width: '100%', marginBottom: 16 }}>\n                  <Form.Item name=\"structural\" valuePropName=\"checked\" noStyle>\n                    <Checkbox>Structural Perception</Checkbox>\n                  </Form.Item>\n                  <Form.Item name=\"visual\" valuePropName=\"checked\" noStyle>\n                    <Checkbox>Visual Perception</Checkbox>\n                  </Form.Item>\n                  <Form.Item name=\"semantic\" valuePropName=\"checked\" noStyle>\n                    <Checkbox>Semantic Perception</Checkbox>\n                  </Form.Item>\n                </Space>\n              ) : null\n            }\n          </Form.Item>\n\n          <Space>\n            <Form.Item name=\"screenshot\" valuePropName=\"checked\" noStyle>\n              <Checkbox>Capture Screenshot</Checkbox>\n            </Form.Item>\n            <Form.Item name=\"insights\" valuePropName=\"checked\" noStyle>\n              <Checkbox>Generate Insights</Checkbox>\n            </Form.Item>\n          </Space>\n\n          <Form.Item style={{ marginTop: 24 }}>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              icon={<PlayCircleOutlined />}\n              loading={loading}\n              size=\"large\"\n              block\n            >\n              Run Perception\n            </Button>\n          </Form.Item>\n        </Form>\n\n        {error && (\n          <Alert message=\"Error\" description={error} type=\"error\" showIcon closable style={{ marginTop: 16 }} />\n        )}\n\n        {loading && (\n          <div style={{ textAlign: 'center', padding: 40 }}>\n            <Spin size=\"large\" tip=\"Running perception...\" />\n          </div>\n        )}\n\n        {result && (\n          <div className={styles.results}>\n            <Alert\n              message={result.success ? 'Success' : 'Failed'}\n              type={result.success ? 'success' : 'error'}\n              showIcon\n              style={{ marginBottom: 16 }}\n            />\n\n            <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n              {renderStructuralData()}\n              {renderVisualData()}\n              {renderSemanticData()}\n              {renderInsights()}\n\n              {result.screenshot_base64 && (\n                <Card\n                  title={\n                    <>\n                      <FileImageOutlined /> Screenshot\n                    </>\n                  }\n                  size=\"small\"\n                  className={styles.resultCard}\n                >\n                  <Image\n                    src={`data:image/png;base64,${result.screenshot_base64}`}\n                    alt=\"Page Screenshot\"\n                    style={{ maxWidth: '100%' }}\n                  />\n                </Card>\n              )}\n\n              <Collapse>\n                <Panel header={<><CodeOutlined /> Raw JSON Payload</>} key=\"json\">\n                  <pre className={styles.jsonOutput}>\n                    {JSON.stringify(result.perception, null, 2)}\n                  </pre>\n                </Panel>\n\n                {result.stdout && (\n                  <Panel header=\"📝 STDOUT\" key=\"stdout\">\n                    <pre className={styles.logOutput}>{result.stdout}</pre>\n                  </Panel>\n                )}\n\n                {result.stderr && (\n                  <Panel header=\"⚠️ STDERR\" key=\"stderr\">\n                    <pre className={styles.logOutput}>{result.stderr}</pre>\n                  </Panel>\n                )}\n              </Collapse>\n            </Space>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport {\n  Card,\n  Input,\n  InputNumber,\n  Button,\n  Space,\n  Alert,\n  Typography,\n  Select,\n  message,\n  Descriptions,\n  List,\n  Spin,\n  Switch,\n  Tag,\n  Statistic,\n} from 'antd';\nimport {\n  ApiOutlined,\n  LinkOutlined,\n  HeartOutlined,\n  RobotOutlined,\n  EyeOutlined,\n  DatabaseOutlined,\n  DownloadOutlined,\n  SafetyCertificateOutlined,\n} from '@ant-design/icons';\nimport soulbrowserAPI, {\n  type MemoryStatsSnapshot,\n  type PerceiveResponse,\n  type PerceptionMetrics,\n  type RecordingSummary,\n  type SelfHealAction,\n  type SelfHealStrategy,\n} from '@/api/soulbrowser';\nimport { useBackendConfigStore } from '@/stores/backendConfigStore';\nimport styles from './DiagnosticsPage.module.css';\n\nconst { TextArea } = Input;\nconst { Paragraph } = Typography;\n\ntype HealthState = 'idle' | 'loading' | 'success' | 'error';\n\ntype PerceiveMode = 'all' | 'structural' | 'visual' | 'semantic';\n\nconst DEFAULT_CHAT_PROMPT = 'Navigate to https://example.com and tell me what you see';\n\nexport default function DiagnosticsPage() {\n  const { baseUrl, setBaseUrl } = useBackendConfigStore();\n  const [editingBaseUrl, setEditingBaseUrl] = useState(baseUrl);\n\n  const [healthState, setHealthState] = useState<HealthState>('idle');\n  const [healthResult, setHealthResult] = useState('');\n\n  const [chatPrompt, setChatPrompt] = useState(DEFAULT_CHAT_PROMPT);\n  const [chatLoading, setChatLoading] = useState(false);\n  const [chatError, setChatError] = useState<string | null>(null);\n  const [chatOutput, setChatOutput] = useState<any>(null);\n\n  const [perceiveUrl, setPerceiveUrl] = useState('https://example.com');\n  const [perceiveMode, setPerceiveMode] = useState<PerceiveMode>('structural');\n  const [perceiveTimeout, setPerceiveTimeout] = useState(90);\n  const [perceiveLoading, setPerceiveLoading] = useState(false);\n  const [perceiveError, setPerceiveError] = useState<string | null>(null);\n  const [perceiveOutput, setPerceiveOutput] = useState<PerceiveResponse | null>(null);\n  const [metrics, setMetrics] = useState<PerceptionMetrics | null>(null);\n  const [metricsLoading, setMetricsLoading] = useState(false);\n  const [recordings, setRecordings] = useState<RecordingSummary[]>([]);\n  const [recordingsLoading, setRecordingsLoading] = useState(false);\n  const [recordingsLimit, setRecordingsLimit] = useState(10);\n  const [recordingsStateFilter, setRecordingsStateFilter] = useState<string | undefined>();\n  const [recordingDetail, setRecordingDetail] = useState<any>(null);\n  const [recordingDetailLoading, setRecordingDetailLoading] = useState(false);\n  const [selfHealStrategies, setSelfHealStrategies] = useState<SelfHealStrategy[]>([]);\n  const [selfHealLoading, setSelfHealLoading] = useState(false);\n  const [memoryStats, setMemoryStats] = useState<MemoryStatsSnapshot | null>(null);\n  const [memoryStatsLoading, setMemoryStatsLoading] = useState(false);\n\n  const handleSaveBaseUrl = () => {\n    setBaseUrl(editingBaseUrl);\n    message.success('后端地址已更新');\n  };\n\n  const runHealthCheck = async () => {\n    setHealthState('loading');\n    setHealthResult('');\n    try {\n      const response = await soulbrowserAPI.health();\n      setHealthState('success');\n      setHealthResult(JSON.stringify(response, null, 2));\n    } catch (err) {\n      setHealthState('error');\n      setHealthResult(err instanceof Error ? err.message : 'Health check failed');\n    }\n  };\n\n  const runChatTest = async () => {\n    if (!chatPrompt.trim()) {\n      message.warning('请输入测试提示词');\n      return;\n    }\n\n    setChatLoading(true);\n    setChatError(null);\n    setChatOutput(null);\n\n    try {\n      const response = await soulbrowserAPI.chat({ prompt: chatPrompt, execute: false });\n      setChatOutput(response);\n    } catch (err) {\n      setChatError(err instanceof Error ? err.message : 'Chat API 调用失败');\n    } finally {\n      setChatLoading(false);\n    }\n  };\n\n  const runPerceiveTest = async () => {\n    if (!perceiveUrl.trim()) {\n      message.warning('请输入要感知的 URL');\n      return;\n    }\n\n    setPerceiveLoading(true);\n    setPerceiveError(null);\n    setPerceiveOutput(null);\n\n    try {\n      const response = await soulbrowserAPI.perceive({\n        url: perceiveUrl,\n        mode: perceiveMode,\n        screenshot: false,\n        insights: perceiveMode === 'all',\n        timeout: perceiveTimeout,\n      });\n      setPerceiveOutput(response);\n      if (!response.success) {\n        setPerceiveError(response.error || 'Perceive API 返回失败');\n      }\n    } catch (err) {\n      setPerceiveError(err instanceof Error ? err.message : 'Perceive API 调用失败');\n    } finally {\n      setPerceiveLoading(false);\n    }\n  };\n\n  const renderResultBlock = (data: unknown) => (\n    <pre className={styles.resultBlock}>{JSON.stringify(data, null, 2)}</pre>\n  );\n\n  const loadPerceptionMetrics = async () => {\n    setMetricsLoading(true);\n    try {\n      const snapshot = await soulbrowserAPI.getPerceptionMetrics();\n      setMetrics(snapshot);\n    } catch (err) {\n      message.error('无法获取感知指标');\n    } finally {\n      setMetricsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    void loadPerceptionMetrics();\n  }, []);\n\n  useEffect(() => {\n    void loadSelfHealStrategies();\n  }, []);\n\n  useEffect(() => {\n    void loadMemoryStats();\n  }, []);\n\n  useEffect(() => {\n    void loadRecordings();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recordingsLimit, recordingsStateFilter]);\n\n  const loadRecordings = async () => {\n    setRecordingsLoading(true);\n    try {\n      const response = await soulbrowserAPI.listRecordings(recordingsLimit, recordingsStateFilter);\n      setRecordings(response.recordings || []);\n    } catch (err) {\n      console.error(err);\n      message.error('无法获取录制会话');\n    } finally {\n      setRecordingsLoading(false);\n    }\n  };\n\n  const loadRecordingDetail = async (sessionId: string) => {\n    setRecordingDetailLoading(true);\n    setRecordingDetail(null);\n    try {\n      const response = await soulbrowserAPI.getRecording(sessionId);\n      if (response.success) {\n        setRecordingDetail(response.recording);\n      } else {\n        message.warning('录制会话未找到');\n      }\n    } catch (err) {\n      console.error(err);\n      message.error('获取录制详情失败');\n    } finally {\n      setRecordingDetailLoading(false);\n    }\n  };\n\n  const loadSelfHealStrategies = async () => {\n    setSelfHealLoading(true);\n    try {\n      const strategies = await soulbrowserAPI.listSelfHealStrategies();\n      setSelfHealStrategies(strategies);\n    } catch (err) {\n      console.error(err);\n      message.error('无法获取自愈策略');\n    } finally {\n      setSelfHealLoading(false);\n    }\n  };\n\n  const loadMemoryStats = async () => {\n    setMemoryStatsLoading(true);\n    try {\n      const snapshot = await soulbrowserAPI.getMemoryStats();\n      setMemoryStats(snapshot);\n    } catch (err) {\n      console.error(err);\n      message.error('无法获取 Memory 统计');\n    } finally {\n      setMemoryStatsLoading(false);\n    }\n  };\n\n  const handleStrategyToggle = async (strategy: SelfHealStrategy, enabled: boolean) => {\n    setSelfHealStrategies((current) =>\n      current.map((item) => (item.id === strategy.id ? { ...item, enabled } : item))\n    );\n    try {\n      await soulbrowserAPI.setSelfHealStrategyEnabled(strategy.id, enabled);\n      message.success(`${strategy.id} ${enabled ? '已启用' : '已关闭'}`);\n    } catch (err) {\n      setSelfHealStrategies((current) =>\n        current.map((item) =>\n          item.id === strategy.id ? { ...item, enabled: strategy.enabled } : item\n        )\n      );\n      message.error(err instanceof Error ? err.message : '更新策略失败');\n    }\n  };\n\n  const actionTagColor = (kind: SelfHealAction['kind']) => {\n    switch (kind) {\n      case 'auto_retry':\n        return 'green';\n      case 'human_approval':\n        return 'magenta';\n      default:\n        return 'blue';\n    }\n  };\n\n  const describeAction = (strategy: SelfHealStrategy) => {\n    switch (strategy.action.kind) {\n      case 'auto_retry':\n        return `额外重试 ${strategy.action.extra_attempts} 次`;\n      case 'annotate':\n        return `标注 ${strategy.action.severity ?? 'info'}${\n          strategy.action.note ? ` · ${strategy.action.note}` : ''\n        }`;\n      case 'human_approval':\n        return `人工确认 (${strategy.action.severity ?? 'warn'})`;\n      default:\n        return '';\n    }\n  };\n\n  const formatPercent = (value?: number) =>\n    typeof value === 'number' ? `${(value * 100).toFixed(1)}%` : '—';\n\n  const memoryAlerts: { type: 'warning' | 'error'; message: string; description?: string }[] = [];\n  if (memoryStats) {\n    if (memoryStats.hit_rate < 0.5) {\n      memoryAlerts.push({\n        type: 'warning',\n        message: 'Memory 命中率偏低',\n        description: `当前命中率 ${formatPercent(memoryStats.hit_rate)}，请检查 namespace/tag 配置。`,\n      });\n    }\n    if (memoryStats.template_success_rate < 0.5 && memoryStats.template_uses > 10) {\n      memoryAlerts.push({\n        type: 'warning',\n        message: '模板成功率偏低',\n        description: `模板成功率 ${formatPercent(memoryStats.template_success_rate)}，请复核模板内容。`,\n      });\n    }\n  }\n\n  const handleDownloadRecordingPlan = (recording: any) => {\n    const plan = recording.metadata?.agent_plan;\n    if (!plan) {\n      message.info('该录制会话没有计划快照');\n      return;\n    }\n    try {\n      const blob = new Blob([JSON.stringify(plan, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const anchor = document.createElement('a');\n      anchor.href = url;\n      anchor.download = `${recording.id}-plan.json`;\n      anchor.click();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(err);\n      message.error('导出计划失败');\n    }\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <LinkOutlined className={styles.cardTitleIcon} />\n            连接设置\n          </div>\n        }\n      >\n        <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n          <div className={styles.inlineForm}>\n            <Input\n              placeholder=\"http://127.0.0.1:8791\"\n              value={editingBaseUrl}\n              onChange={(e) => setEditingBaseUrl(e.target.value)}\n              allowClear\n            />\n            <Button type=\"primary\" icon={<ApiOutlined />} onClick={handleSaveBaseUrl}>\n              保存并应用\n            </Button>\n          </div>\n          <Paragraph className={styles.hintText}>\n            不填表示使用当前域名。若通过 Vite DevServer 调试，可填写实际后端地址 (示例: http://127.0.0.1:8791)。\n          </Paragraph>\n        </Space>\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <DatabaseOutlined className={styles.cardTitleIcon} />\n            Memory 统计\n          </div>\n        }\n        extra={\n          <Button type=\"link\" onClick={() => loadMemoryStats()} loading={memoryStatsLoading}>\n            刷新\n          </Button>\n        }\n      >\n        {memoryStatsLoading ? (\n          <Spin />\n        ) : memoryStats ? (\n          <Space direction=\"vertical\" style={{ width: '100%' }} size=\"middle\">\n            {memoryAlerts.map((alert, idx) => (\n              <Alert\n                key={`memory-alert-${idx}`}\n                type={alert.type}\n                showIcon\n                message={alert.message}\n                description={alert.description}\n              />\n            ))}\n            <div className={styles.memoryStatsGrid}>\n              <Statistic title=\"总查询\" value={memoryStats.total_queries} />\n              <Statistic title=\"命中\" value={memoryStats.hit_queries} />\n              <Statistic title=\"未命中\" value={memoryStats.miss_queries} />\n              <Statistic\n                title=\"命中率\"\n                value={formatPercent(memoryStats.hit_rate)}\n                valueStyle={{ color: memoryStats.hit_rate >= 0.7 ? '#3f8600' : '#faad14' }}\n              />\n              <Statistic title=\"当前记录\" value={memoryStats.current_records} />\n              <Statistic title=\"累计写入\" value={memoryStats.stored_records} />\n              <Statistic title=\"删除\" value={memoryStats.deleted_records} />\n              <Statistic title=\"模板使用\" value={memoryStats.template_uses} />\n              <Statistic title=\"模板成功\" value={memoryStats.template_successes} />\n              <Statistic\n                title=\"模板成功率\"\n                value={formatPercent(memoryStats.template_success_rate)}\n                valueStyle={{\n                  color: memoryStats.template_success_rate >= 0.7 ? '#3f8600' : '#faad14',\n                }}\n              />\n            </div>\n          </Space>\n        ) : (\n          <Paragraph className={styles.hintText}>\n            暂无统计信息。执行一次 Memory 查询后刷新以查看最新数据。\n          </Paragraph>\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <SafetyCertificateOutlined className={styles.cardTitleIcon} />\n            自愈策略\n          </div>\n        }\n        extra={\n          <Button type=\"link\" onClick={() => loadSelfHealStrategies()} loading={selfHealLoading}>\n            刷新\n          </Button>\n        }\n      >\n        {selfHealLoading ? (\n          <Spin />\n        ) : selfHealStrategies.length ? (\n          <List\n            itemLayout=\"vertical\"\n            dataSource={selfHealStrategies}\n            renderItem={(item) => (\n              <List.Item\n                key={item.id}\n                className={styles.strategyRow}\n                actions={[\n                  <Switch\n                    key=\"toggle\"\n                    checked={item.enabled}\n                    size=\"small\"\n                    onChange={(checked) => handleStrategyToggle(item, checked)}\n                  />,\n                ]}\n              >\n                <List.Item.Meta\n                  title={\n                    <div className={styles.strategyHeader}>\n                      <span>{item.id}</span>\n                      <div className={styles.strategyTags}>\n                        {item.tags?.map((tag) => (\n                          <Tag key={`${item.id}-${tag}`} color=\"default\">\n                            {tag}\n                          </Tag>\n                        ))}\n                      </div>\n                    </div>\n                  }\n                  description={\n                    <div>\n                      <div className={styles.strategyDescription}>{item.description}</div>\n                      <div className={styles.strategyMeta}>\n                        <Tag color={actionTagColor(item.action.kind)}>\n                          {item.action.kind}\n                        </Tag>\n                        {item.telemetry_label && (\n                          <Tag color=\"geekblue\">{item.telemetry_label}</Tag>\n                        )}\n                        <span>{describeAction(item)}</span>\n                      </div>\n                    </div>\n                  }\n                />\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Paragraph className={styles.hintText}>\n            暂无策略。确认后端已升级到 Stage-2 自愈配置。\n          </Paragraph>\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <DatabaseOutlined className={styles.cardTitleIcon} />\n            录制会话\n          </div>\n        }\n        extra={\n          <Space>\n            <Select\n              allowClear\n              placeholder=\"状态\"\n              value={recordingsStateFilter}\n              style={{ width: 160 }}\n              onChange={(value) => setRecordingsStateFilter(value || undefined)}\n              options={[\n                { label: 'recording', value: 'recording' },\n                { label: 'completed', value: 'completed' },\n              ]}\n            />\n            <InputNumber\n              min={1}\n              max={50}\n              value={recordingsLimit}\n              onChange={(value) => setRecordingsLimit(value ?? 10)}\n            />\n            <Button type=\"link\" onClick={() => loadRecordings()} loading={recordingsLoading}>\n              刷新\n            </Button>\n          </Space>\n        }\n      >\n        {recordingsLoading ? (\n          <Spin />\n        ) : recordings.length ? (\n          <List\n            size=\"small\"\n            dataSource={recordings}\n            renderItem={(item) => (\n              <List.Item\n                actions={[\n                  <Button type=\"link\" key=\"view\" onClick={() => loadRecordingDetail(item.id)}>\n                    查看详情\n                  </Button>,\n                ]}\n              >\n                <List.Item.Meta\n                  title={`${item.id} (${item.state})`}\n                  description={`updated: ${item.updated_at} · plan: ${item.has_agent_plan ? 'YES' : '—'}`}\n                />\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Paragraph className={styles.hintText}>暂无录制会话</Paragraph>\n        )}\n        {recordingDetailLoading ? (\n          <Spin style={{ marginTop: 12 }} />\n        ) : recordingDetail ? (\n          <>\n            <Space style={{ marginTop: 12, marginBottom: 12 }}>\n              <Button\n                type=\"primary\"\n                icon={<DownloadOutlined />}\n                disabled={!recordingDetail.metadata?.agent_plan}\n                onClick={() => handleDownloadRecordingPlan(recordingDetail)}\n              >\n                下载计划 JSON\n              </Button>\n            </Space>\n            <pre className={styles.resultBlock}>{JSON.stringify(recordingDetail, null, 2)}</pre>\n          </>\n        ) : null}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <EyeOutlined className={styles.cardTitleIcon} />\n            感知服务指标\n          </div>\n        }\n        extra={\n          <Button type=\"link\" onClick={() => loadPerceptionMetrics()} loading={metricsLoading}>\n            刷新\n          </Button>\n        }\n      >\n        {metrics ? (\n          <Descriptions column={2} bordered size=\"small\">\n            <Descriptions.Item label=\"总调用次数\">{metrics.total_runs}</Descriptions.Item>\n            <Descriptions.Item label=\"平均时长 (ms)\">\n              {metrics.avg_duration_ms.toFixed(2)}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"共享命中\">{metrics.shared_hits}</Descriptions.Item>\n            <Descriptions.Item label=\"共享未命中\">{metrics.shared_misses}</Descriptions.Item>\n            <Descriptions.Item label=\"共享失败\">{metrics.shared_failures}</Descriptions.Item>\n            <Descriptions.Item label=\"临时会话\">{metrics.ephemeral_runs}</Descriptions.Item>\n            <Descriptions.Item label=\"失败次数\">{metrics.failed_runs}</Descriptions.Item>\n          </Descriptions>\n        ) : (\n          <Paragraph className={styles.hintText}>\n            暂无指标数据。执行一次感知请求或点击刷新按钮以查看最新统计。\n          </Paragraph>\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <HeartOutlined className={styles.cardTitleIcon} />\n            健康检查 /health\n          </div>\n        }\n        extra={\n          <Button type=\"primary\" loading={healthState === 'loading'} onClick={runHealthCheck}>\n            立即检测\n          </Button>\n        }\n      >\n        {healthState !== 'idle' ? (\n          <Alert\n            type={healthState === 'success' ? 'success' : 'error'}\n            message={healthState === 'success' ? '后端在线' : '无法连接后端'}\n            description={healthResult}\n            showIcon\n          />\n        ) : (\n          <Paragraph className={styles.hintText}>点击“立即检测”确认后端是否可达。</Paragraph>\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <RobotOutlined className={styles.cardTitleIcon} />\n            Chat API 快速测试\n          </div>\n        }\n        extra={\n          <Button type=\"primary\" loading={chatLoading} onClick={runChatTest}>\n            发送测试请求\n          </Button>\n        }\n      >\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <TextArea\n            rows={3}\n            value={chatPrompt}\n            onChange={(e) => setChatPrompt(e.target.value)}\n            placeholder=\"Describe the goal...\"\n          />\n          {chatError && <Alert type=\"error\" message={chatError} showIcon />}\n          {chatOutput && renderResultBlock(chatOutput)}\n          {!chatOutput && !chatError && (\n            <Paragraph className={styles.hintText}>\n              将调用 POST /api/chat，并展示原始 JSON 响应。\n            </Paragraph>\n          )}\n        </Space>\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.cardTitle}>\n            <EyeOutlined className={styles.cardTitleIcon} />\n            Perceive API 快速测试\n          </div>\n        }\n        extra={\n          <Button type=\"primary\" loading={perceiveLoading} onClick={runPerceiveTest}>\n            执行感知\n          </Button>\n        }\n      >\n        <Space direction=\"vertical\" style={{ width: '100%' }} size=\"middle\">\n          <Input\n            value={perceiveUrl}\n            onChange={(e) => setPerceiveUrl(e.target.value)}\n            placeholder=\"https://example.com\"\n            addonBefore=\"URL\"\n          />\n          <Space className={styles.inlineForm}>\n            <Select\n              value={perceiveMode}\n              onChange={(value) => setPerceiveMode(value)}\n              options={[\n                { label: 'Structural', value: 'structural' },\n                { label: 'Visual', value: 'visual' },\n                { label: 'Semantic', value: 'semantic' },\n                { label: 'All', value: 'all' },\n              ]}\n            />\n            <InputNumber\n              min={30}\n              max={240}\n              value={perceiveTimeout}\n              onChange={(val) => setPerceiveTimeout(typeof val === 'number' ? val : 60)}\n              addonAfter=\"s\"\n              placeholder=\"超时时间\"\n            />\n          </Space>\n          {perceiveError && <Alert type=\"error\" message={perceiveError} showIcon />}\n          {perceiveOutput && renderResultBlock(perceiveOutput)}\n          {!perceiveOutput && !perceiveError && (\n            <Paragraph className={styles.hintText}>\n              感知请求可能需要 1-2 分钟。执行结果会包含 stdout/stderr，便于排查。\n            </Paragraph>\n          )}\n        </Space>\n      </Card>\n    </div>\n  );\n}\n","import { Empty, List, Space, Tag, Typography } from 'antd';\nimport dayjs from 'dayjs';\nimport type { OverlayEventPayload, TaskLogEntry } from '@/api/soulbrowser';\n\nimport styles from './TasksPage.module.css';\n\ninterface ConversationBoardProps {\n  planOverlays: Record<string, any>[];\n  executionOverlays: OverlayEventPayload[];\n  logs: TaskLogEntry[];\n  recentEvidence: Record<string, any>[];\n  onPreviewEvidence?: (item: Record<string, any>) => void;\n  onPreviewOverlay?: (overlay: OverlayEventPayload) => void;\n}\n\nconst MAX_LOGS = 5;\nconst MAX_OVERLAYS = 5;\n\nconst formatTime = (value?: string | null) =>\n  value && dayjs(value).isValid() ? dayjs(value).format('HH:mm:ss') : '—';\n\nconst renderOverlayLabel = (overlay: Record<string, any>, fallback: string) => {\n  if (overlay?.title) return overlay.title;\n  if (overlay?.dispatch_label) return overlay.dispatch_label;\n  if (overlay?.step_id) return `Step ${overlay.step_id}`;\n  return fallback;\n};\n\nexport default function ConversationBoard({\n  planOverlays,\n  executionOverlays,\n  logs,\n  recentEvidence,\n  onPreviewEvidence,\n  onPreviewOverlay,\n}: ConversationBoardProps) {\n  const latestLogs = logs.slice(-MAX_LOGS).reverse();\n  const latestOverlays = executionOverlays.slice(-MAX_OVERLAYS).reverse();\n  const latestEvidence = recentEvidence.slice(-MAX_OVERLAYS).reverse();\n\n  return (\n    <div className={styles.conversationBoard}>\n      <div className={styles.boardColumn}>\n        <Typography.Title level={5}>计划锚点</Typography.Title>\n        {planOverlays?.length ? (\n          <List\n            size=\"small\"\n            dataSource={planOverlays}\n            renderItem={(item, index) => (\n              <List.Item key={item?.step_id ?? index}>\n                <Space direction=\"vertical\" size={2}>\n                  <Space size=\"small\">\n                    <Tag color=\"processing\">{item?.step_id ?? `step-${index + 1}`}</Tag>\n                    <Typography.Text>{renderOverlayLabel(item, '步骤')}</Typography.Text>\n                  </Space>\n                  <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                    {formatTime(item?.recorded_at)}\n                  </Typography.Text>\n                  {item?.locator && (\n                    <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                      {JSON.stringify(item.locator)}\n                    </Typography.Text>\n                  )}\n                </Space>\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Empty description=\"暂无锚点\" />\n        )}\n      </div>\n\n      <div className={styles.boardColumn}>\n        <Typography.Title level={5}>实时覆盖</Typography.Title>\n        {latestOverlays.length ? (\n          <List\n            size=\"small\"\n            dataSource={latestOverlays}\n            renderItem={(item, index) => (\n              <List.Item key={`${item.task_id}-${index}`}>\n                <Space direction=\"vertical\" size={2}>\n                  <Space size=\"small\">\n                    <Tag color={item.source === 'execution' ? 'volcano' : 'geekblue'}>\n                      {item.source === 'execution' ? '执行' : '计划'}\n                    </Tag>\n                    <Typography.Text>\n                      {renderOverlayLabel(item.data, 'overlay')} ·\n                      {item.data?.step_id || 'step'}\n                    </Typography.Text>\n                  </Space>\n                  <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                    {formatTime(item.recorded_at)}\n                  </Typography.Text>\n                  {item.data?.bbox !== undefined && (\n                    <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                      bbox: {JSON.stringify(item.data.bbox)}\n                    </Typography.Text>\n                  )}\n                  {item.data?.data_base64 || item.data?.screenshot_path ? (\n                    <img\n                      className={styles.overlayThumbnail}\n                      src={\n                        item.data?.data_base64\n                          ? `data:${item.data?.content_type ?? 'image/png'};base64,${item.data.data_base64}`\n                          : (item.data?.screenshot_path as string)\n                      }\n                      alt={renderOverlayLabel(item.data, 'overlay')}\n                      onClick={() => onPreviewOverlay?.(item)}\n                    />\n                  ) : null}\n                </Space>\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Empty description=\"暂无实时覆盖\" />\n        )}\n\n        <Typography.Title level={5} style={{ marginTop: 24 }}>\n          最新截图\n        </Typography.Title>\n        {latestEvidence.length ? (\n          <div className={styles.overlayPreviewGrid}>\n            {latestEvidence.map((item, index) => (\n              <div className={styles.overlayPreviewCard} key={`${item?.step_id ?? 'shot'}-${index}`}>\n                <Typography.Text className={styles.evidenceLabel}>\n                  {item?.label || item?.dispatch_label || '截图'}\n                </Typography.Text>\n                {(item?.observation_type || item?.content_type) && (\n                  <Tag color=\"blue\" style={{ marginBottom: 4 }}>\n                    {item?.observation_type || item?.content_type}\n                  </Tag>\n                )}\n                <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                  {formatTime(item?.recorded_at)}\n                </Typography.Text>\n                {item.data_base64 || item.screenshot_path ? (\n                  <img\n                    src={\n                      item.data_base64\n                        ? `data:${item.content_type};base64,${item.data_base64}`\n                        : item.screenshot_path\n                    }\n                    alt={item?.label || `capture-${index}`}\n                    className={styles.previewableImage}\n                    onClick={() => onPreviewEvidence?.(item)}\n                  />\n                ) : (\n                  <Typography.Text type=\"secondary\">暂无内嵌图像</Typography.Text>\n                )}\n              </div>\n            ))}\n          </div>\n        ) : (\n          <Empty description=\"暂无截图\" />\n        )}\n      </div>\n\n      <div className={styles.boardColumn}>\n        <Typography.Title level={5}>最新日志</Typography.Title>\n        {latestLogs.length ? (\n          <List\n            size=\"small\"\n            dataSource={latestLogs}\n            renderItem={(item, index) => (\n              <List.Item key={`${item.timestamp}-${index}`}>\n                <Space direction=\"vertical\" size={0}>\n                  <Typography.Text type=\"secondary\">\n                    {item.timestamp} · {item.level.toUpperCase()}\n                  </Typography.Text>\n                  <Typography.Text>{item.message}</Typography.Text>\n                </Space>\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Empty description=\"暂无日志\" />\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useMemo, useRef, useState } from 'react';\nimport { Badge, Button, Card, Empty, List, Space, Tag, Tooltip, Typography } from 'antd';\nimport {\n  PauseCircleOutlined,\n  PlayCircleOutlined,\n  ReloadOutlined,\n  ThunderboltOutlined,\n} from '@ant-design/icons';\nimport dayjs from 'dayjs';\nimport type {\n  OverlayEventPayload,\n  TaskAnnotation,\n  TaskStatusSnapshot,\n} from '@/api/soulbrowser';\n\nimport styles from './TasksPage.module.css';\n\nexport interface LiveFrame {\n  id: string;\n  recordedAt?: string;\n  label?: string;\n  src: string;\n  record: Record<string, any>;\n}\n\ninterface LiveCompanionProps {\n  taskId?: string | null;\n  status: TaskStatusSnapshot | null;\n  latestFrame: LiveFrame | null;\n  frames: LiveFrame[];\n  overlays: OverlayEventPayload[];\n  annotations: TaskAnnotation[];\n  streamConnected: boolean;\n  streamPaused: boolean;\n  streamError: string | null;\n  onTogglePause?: () => void;\n  onReconnect?: () => void;\n  onPreviewFrame?: (record: Record<string, any>) => void;\n  onPreviewOverlay?: (overlay: OverlayEventPayload) => void;\n  onRefreshSummary?: () => void;\n}\n\nconst formatTime = (value?: string | null) =>\n  value && dayjs(value).isValid() ? dayjs(value).format('HH:mm:ss') : '—';\n\nexport default function LiveCompanion({\n  taskId,\n  status,\n  latestFrame,\n  frames,\n  overlays,\n  annotations,\n  streamConnected,\n  streamPaused,\n  streamError,\n  onTogglePause,\n  onReconnect,\n  onPreviewFrame,\n  onPreviewOverlay,\n  onRefreshSummary,\n}: LiveCompanionProps) {\n  const [imageSize, setImageSize] = useState({ width: 0, height: 0 });\n  const [renderSize, setRenderSize] = useState({ width: 0, height: 0 });\n  const imageRef = useRef<HTMLImageElement | null>(null);\n\n  const overlayList = useMemo(() => overlays.slice(-6).reverse(), [overlays]);\n  const annotationList = useMemo(() => annotations.slice(-6).reverse(), [annotations]);\n  const frameHistory = useMemo(() => frames.slice().reverse(), [frames]);\n\n  const handleImageLoad: React.ReactEventHandler<HTMLImageElement> = (event) => {\n    const target = event.currentTarget;\n    setImageSize({ width: target.naturalWidth, height: target.naturalHeight });\n    setRenderSize({ width: target.clientWidth, height: target.clientHeight });\n    imageRef.current = target;\n  };\n\n  const computeBoxStyle = (bbox?: unknown) => {\n    if (!bbox || typeof bbox !== 'object' || renderSize.width === 0 || renderSize.height === 0) {\n      return undefined;\n    }\n    const parts = bbox as Record<string, any>;\n    const width = Number(parts.width ?? parts.w ?? parts[2]);\n    const height = Number(parts.height ?? parts.h ?? parts[3]);\n    const x = Number(parts.x ?? parts.left ?? parts[0]);\n    const y = Number(parts.y ?? parts.top ?? parts[1]);\n    if (!Number.isFinite(width) || !Number.isFinite(height) || !Number.isFinite(x) || !Number.isFinite(y)) {\n      return undefined;\n    }\n    const normalized =\n      width > 0 && width <= 1 && height > 0 && height <= 1 && x >= 0 && x <= 1 && y >= 0 && y <= 1;\n    const scaleX = normalized\n      ? renderSize.width\n      : imageSize.width > 0\n      ? renderSize.width / imageSize.width\n      : 1;\n    const scaleY = normalized\n      ? renderSize.height\n      : imageSize.height > 0\n      ? renderSize.height / imageSize.height\n      : 1;\n    const left = normalized ? x * renderSize.width : x * scaleX;\n    const top = normalized ? y * renderSize.height : y * scaleY;\n    const boxWidth = normalized ? width * renderSize.width : width * scaleX;\n    const boxHeight = normalized ? height * renderSize.height : height * scaleY;\n    return {\n      left,\n      top,\n      width: Math.max(boxWidth, 2),\n      height: Math.max(boxHeight, 2),\n    } as React.CSSProperties;\n  };\n\n  return (\n    <div className={styles.liveCompanion}>\n      <div className={styles.companionHeader}>\n        <Space size=\"middle\" wrap>\n          <Badge\n            status={streamConnected ? 'processing' : 'default'}\n            text={streamConnected ? '实时连接中' : streamPaused ? '已暂停' : '未连接'}\n          />\n          <Tag color={status?.status === 'success' ? 'green' : status?.status === 'failed' ? 'red' : 'gold'}>\n            {status?.status?.toUpperCase() || 'PENDING'}\n          </Tag>\n          {latestFrame?.recordedAt && (\n            <Typography.Text type=\"secondary\">\n              最新截图：{formatTime(latestFrame.recordedAt)}\n            </Typography.Text>\n          )}\n          {taskId && (\n            <Typography.Text type=\"secondary\" copyable>\n              {taskId}\n            </Typography.Text>\n          )}\n          {streamError && (\n            <Tooltip title={streamError}>\n              <Tag color=\"red\">{streamError}</Tag>\n            </Tooltip>\n          )}\n        </Space>\n        <Space>\n          <Button\n            icon={streamPaused ? <PlayCircleOutlined /> : <PauseCircleOutlined />}\n            onClick={onTogglePause}\n          >\n            {streamPaused ? '恢复实时' : '暂停实时'}\n          </Button>\n          <Button icon={<ThunderboltOutlined />} onClick={onReconnect}>\n            手动重连\n          </Button>\n          <Button icon={<ReloadOutlined />} onClick={onRefreshSummary}>\n            刷新快照\n          </Button>\n        </Space>\n      </div>\n\n      <div className={styles.liveBody}>\n        <div className={styles.liveViewport}>\n          {latestFrame?.src ? (\n            <div className={styles.liveOverlayStage}>\n              <img\n                ref={imageRef}\n                src={latestFrame.src}\n                alt={latestFrame.label || 'live-frame'}\n                className={styles.liveScreenshot}\n                onLoad={handleImageLoad}\n                onClick={() => onPreviewFrame?.(latestFrame.record)}\n              />\n              {overlayList.map((overlay, index) => {\n                const style = computeBoxStyle(overlay.data?.bbox);\n                if (!style) {\n                  return null;\n                }\n                const overlayData = overlay.data as Record<string, unknown> | undefined;\n                const rawLabel = overlayData?.title ?? overlayData?.dispatch_label ?? 'overlay';\n                const label =\n                  typeof rawLabel === 'string'\n                    ? rawLabel\n                    : JSON.stringify(rawLabel ?? 'overlay');\n                return (\n                  <div\n                    key={`${overlay.task_id}-${index}`}\n                    className={styles.liveOverlayBox}\n                    style={style}\n                  >\n                    <span>{label}</span>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <div className={styles.liveViewportFallback}>\n              <Empty description=\"暂无实时截图\" />\n            </div>\n          )}\n        </div>\n\n        <div className={styles.liveSidebar}>\n          <Card size=\"small\" title=\"实时覆盖\">\n            {overlayList.length ? (\n              <List\n                size=\"small\"\n                dataSource={overlayList}\n                renderItem={(item, index) => (\n                  <List.Item\n                    key={`${item.task_id}-${index}`}\n                    onClick={() => onPreviewOverlay?.(item)}\n                    className={styles.liveListItem}\n                  >\n                    <Space direction=\"vertical\" size={0}>\n                      <Space size=\"small\">\n                        <Tag color={item.source === 'execution' ? 'orange' : 'blue'}>{item.source}</Tag>\n                        <Typography.Text>\n                          {(() => {\n                            const data = item.data as Record<string, unknown> | undefined;\n                            const candidate = data?.title ?? data?.dispatch_label ?? 'overlay';\n                            return typeof candidate === 'string'\n                              ? candidate\n                              : JSON.stringify(candidate ?? 'overlay');\n                          })()}\n                        </Typography.Text>\n                      </Space>\n                      <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n                        {formatTime(item.recorded_at)}\n                      </Typography.Text>\n                    </Space>\n                  </List.Item>\n                )}\n              />\n            ) : (\n              <Empty description=\"暂无 Overlay\" image={Empty.PRESENTED_IMAGE_SIMPLE} />\n            )}\n          </Card>\n\n          <Card size=\"small\" title=\"批注\">\n            {annotationList.length ? (\n              <List\n                size=\"small\"\n                dataSource={annotationList}\n                renderItem={(annotation) => (\n                  <List.Item key={annotation.id} className={styles.liveListItem}>\n                    <Space direction=\"vertical\" size={0}>\n                      <Space size=\"small\">\n                        {annotation.severity && <Tag color=\"magenta\">{annotation.severity}</Tag>}\n                        <Typography.Text>{annotation.note}</Typography.Text>\n                      </Space>\n                      <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n                        {annotation.author || 'system'} · {formatTime(annotation.created_at)}\n                      </Typography.Text>\n                    </Space>\n                  </List.Item>\n                )}\n              />\n            ) : (\n              <Empty description=\"暂无批注\" image={Empty.PRESENTED_IMAGE_SIMPLE} />\n            )}\n          </Card>\n\n          <Card size=\"small\" title=\"截图历史\">\n            {frameHistory.length ? (\n              <List\n                size=\"small\"\n                className={styles.liveFrameList}\n                dataSource={frameHistory}\n                renderItem={(frame) => (\n                  <List.Item\n                    key={frame.id}\n                    className={styles.liveListItem}\n                    onClick={() => onPreviewFrame?.(frame.record)}\n                  >\n                    <Space direction=\"vertical\" size={0}>\n                      <Typography.Text>{frame.label || 'capture'}</Typography.Text>\n                      <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n                        {formatTime(frame.recordedAt)}\n                      </Typography.Text>\n                    </Space>\n                  </List.Item>\n                )}\n              />\n            ) : (\n              <Empty description=\"暂无截图\" image={Empty.PRESENTED_IMAGE_SIMPLE} />\n            )}\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport dayjs from 'dayjs';\nimport {\n  Button,\n  Descriptions,\n  Empty,\n  Form,\n  Input,\n  InputNumber,\n  List,\n  Modal,\n  Popconfirm,\n  Space,\n  Spin,\n  Tag,\n  Typography,\n  message,\n} from 'antd';\nimport { PlayCircleOutlined, ReloadOutlined, SaveOutlined, DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport soulbrowserAPI, {\n  CreateMemoryRecordRequest,\n  MemoryListParams,\n  MemoryRecord,\n  MemoryStatsWithTrends,\n  UpdateMemoryRecordRequest,\n} from '@/api/soulbrowser';\n\nimport styles from './TasksPage.module.css';\n\ninterface TemplatesPaneProps {\n  onApplyTemplate?: (record: MemoryRecord) => void;\n  onTemplateDeleted?: (record: MemoryRecord) => void;\n  onTemplateUpdated?: (record: MemoryRecord) => void;\n}\n\ninterface FilterValues {\n  namespace?: string;\n  tag?: string;\n  limit?: number;\n}\n\ninterface CreateTemplateValues {\n  namespace: string;\n  key: string;\n  tags?: string;\n  note?: string;\n  metadata?: string;\n}\n\ninterface EditTemplateValues {\n  tags?: string;\n  note?: string;\n  metadata?: string;\n}\n\nconst DEFAULT_NAMESPACE = 'templates';\n\nexport default function TemplatesPane({\n  onApplyTemplate,\n  onTemplateDeleted,\n  onTemplateUpdated,\n}: TemplatesPaneProps) {\n  const [records, setRecords] = useState<MemoryRecord[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n  const [filterForm] = Form.useForm<FilterValues>();\n  const [createForm] = Form.useForm<CreateTemplateValues>();\n  const [editForm] = Form.useForm<EditTemplateValues>();\n  const [editingRecord, setEditingRecord] = useState<MemoryRecord | null>(null);\n  const [editVisible, setEditVisible] = useState(false);\n  const [editLoading, setEditLoading] = useState(false);\n  const [stats, setStats] = useState<MemoryStatsWithTrends | null>(null);\n  const [statsLoading, setStatsLoading] = useState(false);\n\n  const fetchRecords = useCallback(\n    async (values?: FilterValues) => {\n      const params = values ?? filterForm.getFieldsValue(true);\n      setLoading(true);\n      try {\n        const normalized: MemoryListParams = {\n          namespace: params.namespace?.trim() || undefined,\n          tag: params.tag?.trim() || undefined,\n          limit: params.limit,\n        };\n        const items = await soulbrowserAPI.listMemoryRecords(normalized);\n        setRecords(items);\n      } catch (err) {\n        console.error(err);\n        message.error('无法加载模板列表');\n      } finally {\n        setLoading(false);\n      }\n    },\n    [filterForm]\n  );\n\n  const fetchStats = useCallback(async () => {\n    setStatsLoading(true);\n    try {\n      const snapshot = await soulbrowserAPI.getMemoryStats();\n      setStats(snapshot);\n    } catch (err) {\n      console.error(err);\n      message.warning('无法获取记忆统计');\n    } finally {\n      setStatsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    filterForm.setFieldsValue({ namespace: DEFAULT_NAMESPACE, limit: 20 });\n    createForm.setFieldsValue({ namespace: DEFAULT_NAMESPACE });\n    void fetchRecords({ namespace: DEFAULT_NAMESPACE, limit: 20 });\n    void fetchStats();\n  }, [createForm, fetchRecords, fetchStats, filterForm]);\n\n  const handleFilterSubmit = (values: FilterValues) => {\n    void fetchRecords(values);\n  };\n\n  const handleCreateTemplate = async (values: CreateTemplateValues) => {\n    const namespace = values.namespace?.trim();\n    const key = values.key?.trim();\n    if (!namespace || !key) {\n      message.warning('命名空间和 Key 必填');\n      return;\n    }\n\n    let metadata: Record<string, unknown> | undefined;\n    if (values.metadata && values.metadata.trim().length > 0) {\n      try {\n        metadata = JSON.parse(values.metadata);\n      } catch (err) {\n        console.error(err);\n        message.error('Metadata 必须是合法 JSON');\n        return;\n      }\n    }\n\n    const payload: CreateMemoryRecordRequest = {\n      namespace,\n      key,\n      note: values.note?.trim() || undefined,\n      tags: values.tags\n        ? values.tags\n            .split(',')\n            .map((tag) => tag.trim())\n            .filter((tag) => tag.length > 0)\n        : undefined,\n      metadata,\n    };\n\n    setCreating(true);\n    try {\n      await soulbrowserAPI.createMemoryRecord(payload);\n      message.success('模板已保存');\n      createForm.resetFields();\n      createForm.setFieldsValue({ namespace });\n      void fetchRecords();\n      void fetchStats();\n    } catch (err) {\n      console.error(err);\n      message.error('保存模板失败');\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  const handleApplyTemplate = (record: MemoryRecord) => {\n    onApplyTemplate?.(record);\n  };\n\n  const handleDeleteTemplate = useCallback(\n    async (record: MemoryRecord) => {\n      setDeletingId(record.id);\n      try {\n        await soulbrowserAPI.deleteMemoryRecord(record.id);\n        message.success('模板已删除');\n        setRecords((prev) => prev.filter((item) => item.id !== record.id));\n        onTemplateDeleted?.(record);\n        if (editingRecord?.id === record.id) {\n          setEditVisible(false);\n          setEditingRecord(null);\n          editForm.resetFields();\n        }\n      } catch (err) {\n        console.error(err);\n        message.error('删除模板失败');\n      } finally {\n        setDeletingId(null);\n        void fetchRecords();\n        void fetchStats();\n      }\n    },\n    [editForm, editingRecord, fetchRecords, fetchStats, onTemplateDeleted]\n  );\n\n  const openEditModal = useCallback(\n    (record: MemoryRecord) => {\n      setEditingRecord(record);\n      editForm.setFieldsValue({\n        tags: record.tags.join(','),\n        note: record.note || '',\n        metadata: record.metadata ? JSON.stringify(record.metadata, null, 2) : '',\n      });\n      setEditVisible(true);\n    },\n    [editForm]\n  );\n\n  const handleUpdateTemplate = useCallback(async () => {\n    if (!editingRecord) return;\n    try {\n      const values = (await editForm.validateFields()) as EditTemplateValues;\n      const payload: UpdateMemoryRecordRequest = {};\n\n      if (values.tags !== undefined) {\n        const parsedTags = values.tags\n          ? values.tags\n              .split(',')\n              .map((tag) => tag.trim())\n              .filter((tag) => tag.length > 0)\n          : [];\n        payload.tags = parsedTags;\n      }\n      if (values.note !== undefined) {\n        const trimmed = values.note.trim();\n        payload.note = trimmed.length ? trimmed : null;\n      }\n      if (values.metadata !== undefined) {\n        if (!values.metadata.trim()) {\n          payload.metadata = null;\n        } else {\n          payload.metadata = JSON.parse(values.metadata);\n        }\n      }\n\n      if (!('tags' in payload) && !('note' in payload) && !('metadata' in payload)) {\n        message.info('无更新内容');\n        return;\n      }\n\n      setEditLoading(true);\n      const updated = await soulbrowserAPI.updateMemoryRecord(editingRecord.id, payload);\n      setRecords((prev) => prev.map((item) => (item.id === updated.id ? updated : item)));\n      onTemplateUpdated?.(updated);\n      message.success('模板已更新');\n      setEditVisible(false);\n      setEditingRecord(null);\n      editForm.resetFields();\n      void fetchStats();\n    } catch (err: any) {\n      if (err?.errorFields) {\n        return;\n      }\n      if (err instanceof SyntaxError) {\n        message.error('Metadata 必须是合法 JSON');\n        return;\n      }\n      console.error(err);\n      message.error('更新模板失败');\n      return;\n    } finally {\n      setEditLoading(false);\n    }\n  }, [editForm, editingRecord, onTemplateUpdated]);\n\n  return (\n    <div className={styles.templatesSection}>\n      <div>\n        <Typography.Title level={4}>记忆 / 模板</Typography.Title>\n        <Typography.Text type=\"secondary\">\n          保存常用提示词和上下文，快速填充到任务创建表单\n        </Typography.Text>\n      </div>\n\n      <div style={{ marginTop: 12 }}>\n        <Spin spinning={statsLoading}>\n          <Descriptions size=\"small\" bordered column={3} labelStyle={{ fontWeight: 500 }}>\n            <Descriptions.Item label=\"查询次数\">\n              {stats?.total_queries ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"命中次数\">\n              {stats?.hit_queries ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"命中率\">\n              {stats ? `${(stats.hit_rate * 100).toFixed(1)}%` : '0.0%'}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"存储次数\">\n              {stats?.stored_records ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"删除次数\">\n              {stats?.deleted_records ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"当前记录\">\n              {stats?.current_records ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"模板使用\">\n              {stats?.template_uses ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"模板成功\">\n              {stats?.template_successes ?? 0}\n            </Descriptions.Item>\n            <Descriptions.Item label=\"模板成功率\">\n              {stats ? `${(stats.template_success_rate * 100).toFixed(1)}%` : '0.0%'}\n            </Descriptions.Item>\n          </Descriptions>\n        </Spin>\n      </div>\n\n      <Form\n        layout=\"inline\"\n        form={filterForm}\n        className={styles.templateFilterForm}\n        onFinish={handleFilterSubmit}\n      >\n        <Form.Item label=\"命名空间\" name=\"namespace\">\n          <Input placeholder=\"例如 templates\" allowClear />\n        </Form.Item>\n        <Form.Item label=\"标签\" name=\"tag\">\n          <Input placeholder=\"可选\" allowClear />\n        </Form.Item>\n        <Form.Item label=\"数量\" name=\"limit\">\n          <InputNumber min={1} max={100} placeholder=\"20\" />\n        </Form.Item>\n        <Form.Item>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\">\n              筛选\n            </Button>\n            <Button icon={<ReloadOutlined />} onClick={() => fetchRecords()}>\n              刷新\n            </Button>\n          </Space>\n        </Form.Item>\n      </Form>\n\n      <div className={styles.templatesContent}>\n        <div className={styles.templateListWrapper}>\n          {records.length ? (\n            <List\n              dataSource={records}\n              loading={loading}\n              renderItem={(item) => (\n                <List.Item key={item.id} className={styles.templateCard}>\n                  <Space direction=\"vertical\" size={6} className={styles.templateCardBody}>\n                    <Space size={8} wrap>\n                      <Typography.Text strong>{item.key}</Typography.Text>\n                      <Tag color=\"geekblue\">{item.namespace}</Tag>\n                      <Typography.Text type=\"secondary\">\n                        {new Date(item.created_at).toLocaleString()}\n                      </Typography.Text>\n                    </Space>\n                    {item.tags && item.tags.length > 0 && (\n                      <div className={styles.templateTags}>\n                        {item.tags.map((tag) => (\n                          <Tag key={`${item.id}-${tag}`}>{tag}</Tag>\n                        ))}\n                      </div>\n                    )}\n                    {item.note && <Typography.Text>{item.note}</Typography.Text>}\n                    {item.metadata && (\n                      <pre className={styles.templateMetadata}>\n                        {JSON.stringify(item.metadata, null, 2)}\n                      </pre>\n                    )}\n                    <Space size={8} wrap>\n                      <Tag color=\"purple\">使用 {item.use_count}</Tag>\n                      <Tag color=\"green\">成功 {item.success_count}</Tag>\n                      <Typography.Text type=\"secondary\">\n                        最近使用：\n                        {item.last_used_at\n                          ? dayjs(item.last_used_at).format('YYYY-MM-DD HH:mm')\n                          : '未使用'}\n                      </Typography.Text>\n                    </Space>\n                    <div className={styles.templateActions}>\n                      <Space size=\"small\">\n                        <Button\n                          type=\"primary\"\n                          icon={<PlayCircleOutlined />}\n                          onClick={() => handleApplyTemplate(item)}\n                        >\n                          填充任务\n                        </Button>\n                        <Button\n                          icon={<EditOutlined />}\n                          onClick={() => openEditModal(item)}\n                        >\n                          编辑\n                        </Button>\n                        <Popconfirm\n                          title=\"删除模板\"\n                          description=\"确认删除该模板？\"\n                          okText=\"删除\"\n                          cancelText=\"取消\"\n                          onConfirm={() => handleDeleteTemplate(item)}\n                        >\n                          <Button\n                            icon={<DeleteOutlined />}\n                            danger\n                            loading={deletingId === item.id}\n                          >\n                            删除\n                          </Button>\n                        </Popconfirm>\n                      </Space>\n                    </div>\n                  </Space>\n                </List.Item>\n              )}\n            />\n          ) : (\n            <div className={styles.templateEmptyState}>\n              {loading ? (\n                <Typography.Text type=\"secondary\">加载中…</Typography.Text>\n              ) : (\n                <Empty description=\"暂无模板\" />\n              )}\n            </div>\n          )}\n        </div>\n\n        <div className={styles.templateCreateCard}>\n          <Typography.Title level={5}>保存新模板</Typography.Title>\n          <Form layout=\"vertical\" form={createForm} onFinish={handleCreateTemplate}>\n            <Form.Item\n              label=\"命名空间\"\n              name=\"namespace\"\n              rules={[{ required: true, message: '请输入命名空间' }]}\n            >\n              <Input placeholder=\"例如 templates\" allowClear />\n            </Form.Item>\n            <Form.Item\n              label=\"Key\"\n              name=\"key\"\n              rules={[{ required: true, message: '请输入 Key' }]}\n            >\n              <Input placeholder=\"关键字\" allowClear />\n            </Form.Item>\n            <Form.Item label=\"标签\" name=\"tags\" tooltip=\"用逗号分隔\">\n              <Input placeholder=\"tag1,tag2\" allowClear />\n            </Form.Item>\n            <Form.Item label=\"备注\" name=\"note\">\n              <Input.TextArea rows={2} placeholder=\"说明或适用场景\" allowClear />\n            </Form.Item>\n            <Form.Item label=\"Metadata JSON\" name=\"metadata\">\n              <Input.TextArea rows={4} placeholder='{\"prompt\":\"...\"}' allowClear />\n            </Form.Item>\n            <Button\n              type=\"primary\"\n              htmlType=\"submit\"\n              icon={<SaveOutlined />}\n              loading={creating}\n              block\n            >\n              保存模板\n            </Button>\n          </Form>\n        </div>\n      </div>\n\n      <Modal\n        title={editingRecord ? `编辑模板：${editingRecord.key}` : '编辑模板'}\n        open={editVisible}\n        onCancel={() => {\n          setEditVisible(false);\n          setEditingRecord(null);\n          editForm.resetFields();\n        }}\n        onOk={handleUpdateTemplate}\n        confirmLoading={editLoading}\n        destroyOnClose\n      >\n        <Form layout=\"vertical\" form={editForm}>\n          <Form.Item label=\"标签\" name=\"tags\" tooltip=\"用逗号分隔\">\n            <Input placeholder=\"tag1,tag2\" allowClear />\n          </Form.Item>\n          <Form.Item label=\"备注\" name=\"note\">\n            <Input.TextArea rows={3} placeholder=\"说明或适用场景\" allowClear />\n          </Form.Item>\n          <Form.Item label=\"Metadata JSON\" name=\"metadata\">\n            <Input.TextArea rows={4} placeholder='{\"prompt\":\"...\"}' allowClear />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport type { ColumnsType } from 'antd/es/table';\nimport {\n  Alert,\n  Button,\n  Descriptions,\n  Drawer,\n  Empty,\n  Form,\n  Input,\n  InputNumber,\n  List,\n  Modal,\n  Select,\n  Space,\n  Spin,\n  Switch,\n  Table,\n  Tabs,\n  Tag,\n  Typography,\n  message,\n} from 'antd';\nimport {\n  ReloadOutlined,\n  EyeOutlined,\n  RedoOutlined,\n  StopOutlined,\n  DownloadOutlined,\n  PlusOutlined,\n  FileSearchOutlined,\n} from '@ant-design/icons';\nimport dayjs from 'dayjs';\nimport soulbrowserAPI, {\n  TaskSummary,\n  TaskDetailResponse,\n  PersistedPlanRecord,\n  TaskDispatchSummary,\n  TaskStatusSnapshot,\n  TaskLogEntry,\n  TaskStreamEvent,\n  CreateTaskRequest,\n  TaskArtifactsResponse,\n  ArtifactListItem,\n  ContextSnapshot,\n  OverlayEventPayload,\n  TaskAnnotation,\n  CreateTaskAnnotationRequest,\n  MemoryRecord,\n} from '@/api/soulbrowser';\nimport ConversationBoard from './ConversationBoard';\nimport LiveCompanion, { type LiveFrame } from './LiveCompanion';\nimport TemplatesPane from './TemplatesPane';\nimport styles from './TasksPage.module.css';\n\nconst { TextArea } = Input;\n\ntype CreateFormValues = {\n  prompt: string;\n  currentUrl?: string;\n  constraints?: string;\n  planner: 'rule' | 'llm';\n  llmProvider?: string;\n  llmModel?: string;\n  execute?: boolean;\n  maxReplans?: number;\n  maxRetries?: number;\n  captureContext?: boolean;\n  contextScreenshot?: boolean;\n  contextTimeout?: number;\n  templateId?: string;\n};\n\nconst statusColors: Record<string, { color: string; label: string }> = {\n  pending: { color: 'default', label: '待执行' },\n  running: { color: 'processing', label: '执行中' },\n  success: { color: 'success', label: '已完成' },\n  failed: { color: 'error', label: '失败' },\n};\n\nconst formatTime = (value?: string | null) =>\n  value ? dayjs(value).format('YYYY-MM-DD HH:mm:ss') : '—';\n\nconst renderStatusTag = (status?: string | null) => {\n  const key = status ? status.toLowerCase() : 'pending';\n  const config = statusColors[key] || statusColors.pending;\n  return <Tag color={config.color}>{config.label}</Tag>;\n};\n\nconst formatBytes = (value?: number) => {\n  if (value === undefined || value === null) {\n    return '—';\n  }\n  if (value < 1024) return `${value} B`;\n  const units = ['KB', 'MB', 'GB'];\n  let size = value / 1024;\n  let unit = 0;\n  while (size >= 1024 && unit < units.length - 1) {\n    size /= 1024;\n    unit += 1;\n  }\n  return `${size.toFixed(1)} ${units[unit]}`;\n};\n\nconst logLevelColor: Record<string, string> = {\n  info: 'default',\n  warn: 'warning',\n  error: 'error',\n};\n\nconst OBSERVATION_HISTORY_LIMIT = 50;\n\nconst formatUnknownValue = (value: unknown) => {\n  if (value === null || value === undefined) {\n    return '—';\n  }\n  if (typeof value === 'string') {\n    return value;\n  }\n  try {\n    return JSON.stringify(value);\n  } catch (err) {\n    return String(value);\n  }\n};\n\nconst isPlainRecord = (value: unknown): value is Record<string, unknown> =>\n  typeof value === 'object' && value !== null && !Array.isArray(value);\n\nconst asString = (value: unknown): string | undefined =>\n  typeof value === 'string' && value.trim().length > 0 ? value : undefined;\n\nconst asNumber = (value: unknown): number | undefined =>\n  typeof value === 'number' ? value : undefined;\n\nconst asBoolean = (value: unknown): boolean | undefined =>\n  typeof value === 'boolean' ? value : undefined;\n\nconst ensureIsoTimestamp = (value?: string | null) =>\n  value && dayjs(value).isValid() ? value : new Date().toISOString();\n\nconst overlayLabelText = (data?: Record<string, any>, fallback = 'overlay') => {\n  if (!data) return fallback;\n  if (typeof data.title === 'string' && data.title.trim()) return data.title;\n  if (typeof data.dispatch_label === 'string' && data.dispatch_label.trim()) {\n    return data.dispatch_label;\n  }\n  if (typeof data.step_id === 'string' && data.step_id.trim()) {\n    return `Step ${data.step_id}`;\n  }\n  return fallback;\n};\n\nexport default function TasksPage() {\n  const [tasks, setTasks] = useState<TaskSummary[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [detailVisible, setDetailVisible] = useState(false);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const [selectedTask, setSelectedTask] = useState<TaskSummary | null>(null);\n  const [taskDetail, setTaskDetail] = useState<TaskDetailResponse | null>(null);\n  const [liveStatus, setLiveStatus] = useState<TaskStatusSnapshot | null>(null);\n  const [liveContext, setLiveContext] = useState<ContextSnapshot | null>(null);\n  const [recentEvidence, setRecentEvidence] = useState<any[]>([]);\n  const [logs, setLogs] = useState<TaskLogEntry[]>([]);\n  const [streamError, setStreamError] = useState<string | null>(null);\n  const [streamConnected, setStreamConnected] = useState(false);\n  const [streamPaused, setStreamPaused] = useState(false);\n  const [streamSession, setStreamSession] = useState(0);\n  const streamSocketRef = useRef<WebSocket | null>(null);\n  const reconnectTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const [actionLoading, setActionLoading] = useState(false);\n  const [cancelLoading, setCancelLoading] = useState(false);\n  const [gatewayLoading, setGatewayLoading] = useState(false);\n  const [createVisible, setCreateVisible] = useState(false);\n  const [createLoading, setCreateLoading] = useState(false);\n  const [artifacts, setArtifacts] = useState<TaskArtifactsResponse | null>(null);\n  const [artifactsLoading, setArtifactsLoading] = useState(false);\n  const [artifactPreview, setArtifactPreview] = useState<{ visible: boolean; title?: string; content?: string }>(\n    { visible: false }\n  );\n  const [evidencePreview, setEvidencePreview] = useState<{ visible: boolean; title?: string; src?: string }>(\n    { visible: false }\n  );\n  const [planOverlays, setPlanOverlays] = useState<Record<string, any>[]>([]);\n  const [executionOverlays, setExecutionOverlays] = useState<OverlayEventPayload[]>([]);\n  const [annotations, setAnnotations] = useState<TaskAnnotation[]>([]);\n  const [annotationSubmitting, setAnnotationSubmitting] = useState(false);\n  const [observationTimeline, setObservationTimeline] = useState<Record<string, any>[]>([]);\n  const [observationTypeFilter, setObservationTypeFilter] = useState<'all' | 'image' | 'artifact'>('all');\n  const [observationSearch, setObservationSearch] = useState('');\n  const [downloadingObservations, setDownloadingObservations] = useState(false);\n  const [createForm] = Form.useForm();\n  const [annotationForm] = Form.useForm<CreateTaskAnnotationRequest>();\n  const plannerValue = Form.useWatch('planner', createForm) ?? 'rule';\n  const isLlmPlanner = plannerValue === 'llm';\n  const captureContextValue = Form.useWatch('captureContext', createForm) ?? true;\n  const [activeTemplate, setActiveTemplate] = useState<MemoryRecord | null>(null);\n  const downloadPlanRecord = useCallback((record: PersistedPlanRecord) => {\n    try {\n      const blob = new Blob([JSON.stringify(record, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const anchor = document.createElement('a');\n      anchor.href = url;\n      const filename = `${record.task_id}-plan.json`;\n      anchor.download = filename;\n      anchor.click();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(err);\n      message.error('导出计划失败');\n    }\n  }, []);\n\n  const artifactFileName = useCallback((item: ArtifactListItem) => {\n    if (item.path) {\n      const parts = item.path.split('/');\n      return parts[parts.length - 1];\n    }\n    if (item.filename) {\n      return item.filename;\n    }\n    return `${item.label || 'artifact'}-${item.artifact_index + 1}.json`;\n  }, []);\n\n  const imageSourceFromRecord = useCallback(\n    (record: Record<string, any>, fallbackType = 'image/png') => {\n      if (!record) return null;\n      const contentType = (record as any)?.content_type || fallbackType;\n      if (record.data_base64) {\n        return `data:${contentType};base64,${record.data_base64}`;\n      }\n    if (record.screenshot_path) {\n      return record.screenshot_path as string;\n    }\n    if ((record as any)?.data_base64_inline) {\n      return `data:${contentType};base64,${(record as any).data_base64_inline}`;\n    }\n    if (record.data && typeof record.data === 'object') {\n      const dataRecord = record.data as Record<string, any>;\n      if (dataRecord.data_base64) {\n        const innerType = dataRecord.content_type || contentType;\n        return `data:${innerType};base64,${dataRecord.data_base64}`;\n      }\n      if (dataRecord.screenshot_path) {\n        return dataRecord.screenshot_path as string;\n      }\n      }\n      return null;\n    },\n    []\n  );\n\n  const handleDownloadArtifact = useCallback(\n    async (item: ArtifactListItem) => {\n      if (!selectedTask) {\n        message.error('缺少任务 ID');\n        return;\n      }\n      try {\n        const filename = artifactFileName(item);\n        const blob = await soulbrowserAPI.downloadTaskArtifact(selectedTask.task_id, filename);\n        const url = URL.createObjectURL(blob);\n        const anchor = document.createElement('a');\n        anchor.href = url;\n        anchor.download = filename;\n        anchor.click();\n        URL.revokeObjectURL(url);\n      } catch (err) {\n        console.error(err);\n        message.error('下载失败，请稍后重试');\n      }\n    },\n    [artifactFileName, selectedTask]\n  );\n\n  const handlePreviewEvidence = useCallback((item: Record<string, any>) => {\n    const src = imageSourceFromRecord(item);\n    if (!src) {\n      message.warning('该记录没有可预览的图像');\n      return;\n    }\n    setEvidencePreview({\n      visible: true,\n      title: item?.label || item?.dispatch_label || '截图预览',\n      src,\n    });\n  }, [imageSourceFromRecord]);\n\n  const handlePreviewOverlay = useCallback(\n    (overlay: OverlayEventPayload) => {\n      const src = imageSourceFromRecord(overlay.data as Record<string, any>);\n      if (!src) {\n        message.warning('该覆盖没有可预览的图像');\n        return;\n      }\n      setEvidencePreview({\n        visible: true,\n        title: overlayLabelText(overlay.data as Record<string, any>, '实时截图'),\n        src,\n      });\n    },\n    [imageSourceFromRecord]\n  );\n\n  const closeEvidencePreview = () => {\n    setEvidencePreview({ visible: false });\n  };\n\n  const liveFrames = useMemo<LiveFrame[]>(() => {\n    return recentEvidence\n      .map((record, index) => {\n        const src = imageSourceFromRecord(record);\n        if (!src) {\n          return null;\n        }\n        return {\n          id: `${record.recorded_at || index}`,\n          recordedAt: record.recorded_at,\n          label: record.label || record.dispatch_label,\n          src,\n          record,\n        } as LiveFrame;\n      })\n      .filter(Boolean) as LiveFrame[];\n  }, [imageSourceFromRecord, recentEvidence]);\n\n  const latestFrame = liveFrames.length ? liveFrames[liveFrames.length - 1] : null;\n\n  const handlePreviewArtifact = useCallback((item: ArtifactListItem) => {\n    if (!item.data_base64) {\n      message.warning('该 Artifact 未内嵌数据，请下载后查看');\n      return;\n    }\n    try {\n      const decoded = decodeBase64(item.data_base64);\n      const content = item.content_type.includes('json')\n        ? JSON.stringify(JSON.parse(decoded), null, 2)\n        : decoded;\n      setArtifactPreview({\n        visible: true,\n        title: item.filename || item.label,\n        content,\n      });\n    } catch (err) {\n      console.error(err);\n      message.error('无法解析该 Artifact 内容');\n    }\n  }, []);\n\n  const fetchTasks = useCallback(async () => {\n    setLoading(true);\n    try {\n      const items = await soulbrowserAPI.listTasks();\n      setTasks(items);\n    } catch (err) {\n      console.error(err);\n      message.error('无法获取任务列表');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchTasks();\n  }, [fetchTasks]);\n\n  const loadTaskDetail = useCallback(\n    async (taskId: string) => {\n      setDetailLoading(true);\n      setStreamError(null);\n      setArtifactsLoading(true);\n      try {\n        const [\n          detail,\n          statusSnapshot,\n          history,\n          artifactsResponse,\n          annotationsResponse,\n          observationsResponse,\n        ] = await Promise.all([\n          soulbrowserAPI.getTask(taskId, 100),\n          soulbrowserAPI.getTaskStatus(taskId).catch(() => null),\n          soulbrowserAPI.getTaskLogs(taskId).catch(() => []),\n          soulbrowserAPI.getTaskArtifacts(taskId).catch(() => null),\n          soulbrowserAPI.getTaskAnnotations(taskId).catch(() => []),\n          soulbrowserAPI.getTaskObservations(taskId, OBSERVATION_HISTORY_LIMIT).catch(() => null),\n        ]);\n        setTaskDetail(detail);\n        setLiveStatus(statusSnapshot);\n        const initialContext =\n          statusSnapshot?.context_snapshot ?? detail.plan?.context_snapshot ?? null;\n        setLiveContext(initialContext ?? null);\n        let seededObservationFromApi = false;\n        if (observationsResponse?.success) {\n          const normalizedHistory = observationsResponse.observations.map((item: any) => ({\n            ...item,\n            recorded_at: ensureIsoTimestamp(item?.recorded_at as string | null),\n          }));\n          setObservationTimeline(normalizedHistory.slice(-OBSERVATION_HISTORY_LIMIT));\n          seededObservationFromApi = true;\n        } else {\n          setObservationTimeline([]);\n        }\n        if (statusSnapshot?.recent_evidence) {\n          const normalizedEvidence = (statusSnapshot.recent_evidence as any[]).map((item) => ({\n            ...item,\n            recorded_at: ensureIsoTimestamp(item?.recorded_at as string | null),\n          }));\n          setRecentEvidence(normalizedEvidence.slice(-8));\n          if (!seededObservationFromApi) {\n            setObservationTimeline(normalizedEvidence.slice(-OBSERVATION_HISTORY_LIMIT));\n          }\n        } else {\n          setRecentEvidence([]);\n          if (!seededObservationFromApi) {\n            setObservationTimeline([]);\n          }\n        }\n        const initialPlanOverlays =\n          (statusSnapshot?.plan_overlays as any[]) ||\n          (((detail.plan?.plan as any)?.overlays as any[]) ?? []);\n        setPlanOverlays(\n          Array.isArray(initialPlanOverlays)\n            ? initialPlanOverlays.map((item) => ({\n                ...item,\n                recorded_at: ensureIsoTimestamp(item?.recorded_at as string | null),\n              }))\n            : []\n        );\n        setExecutionOverlays([]);\n        setLogs(history);\n        setArtifacts(artifactsResponse);\n        if (Array.isArray(annotationsResponse) && annotationsResponse.length) {\n          setAnnotations(annotationsResponse);\n        } else if (detail.annotations) {\n          setAnnotations(detail.annotations);\n        } else {\n          setAnnotations([]);\n        }\n      } catch (err) {\n        console.error(err);\n        message.error('无法加载任务详情');\n      } finally {\n        setDetailLoading(false);\n        setArtifactsLoading(false);\n      }\n    },\n    []\n  );\n\n  const refreshTaskSnapshot = useCallback(() => {\n    if (selectedTask) {\n      void loadTaskDetail(selectedTask.task_id);\n    }\n  }, [loadTaskDetail, selectedTask]);\n\n  const openDetail = (record: TaskSummary) => {\n    setSelectedTask(record);\n    setDetailVisible(true);\n    setDetailLoading(true);\n    void loadTaskDetail(record.task_id);\n  };\n\n  const closeDetail = () => {\n    setDetailVisible(false);\n    setTaskDetail(null);\n    setSelectedTask(null);\n    setLiveStatus(null);\n    setLiveContext(null);\n    setRecentEvidence([]);\n    setLogs([]);\n    setStreamError(null);\n    setArtifacts(null);\n    setArtifactsLoading(false);\n    setPlanOverlays([]);\n    setExecutionOverlays([]);\n    setAnnotations([]);\n    setObservationTimeline([]);\n    annotationForm.resetFields();\n  };\n\n  const toggleStreamPaused = useCallback(() => {\n    setStreamPaused((prev) => {\n      const next = !prev;\n      if (!next) {\n        setStreamError(null);\n        setStreamSession((token) => token + 1);\n      }\n      return next;\n    });\n  }, []);\n\n  const handleReconnectStream = useCallback(() => {\n    if (streamSocketRef.current) {\n      try {\n        streamSocketRef.current.close();\n      } catch (err) {\n        console.warn('Failed to close socket before reconnect', err);\n      }\n      streamSocketRef.current = null;\n    }\n    setStreamError(null);\n    setStreamSession((prev) => prev + 1);\n  }, []);\n\n  useEffect(() => {\n    if (!detailVisible || !selectedTask) {\n      setStreamConnected(false);\n      return undefined;\n    }\n\n    let stopped = false;\n\n    const clearReconnectTimer = () => {\n      if (reconnectTimerRef.current) {\n        window.clearTimeout(reconnectTimerRef.current);\n        reconnectTimerRef.current = null;\n      }\n    };\n\n    const disconnect = () => {\n      if (streamSocketRef.current) {\n        try {\n          streamSocketRef.current.close();\n        } catch (err) {\n          console.warn('Failed to close task stream socket', err);\n        }\n        streamSocketRef.current = null;\n      }\n    };\n\n    const scheduleReconnect = () => {\n      if (stopped || reconnectTimerRef.current || streamPaused) {\n        return;\n      }\n      reconnectTimerRef.current = window.setTimeout(() => {\n        reconnectTimerRef.current = null;\n        connect();\n      }, 3000);\n    };\n\n    const handleStreamMessage = (event: MessageEvent<string>) => {\n      try {\n        const payload: TaskStreamEvent = JSON.parse(event.data);\n        if (payload.event === 'status') {\n          setLiveStatus(payload.status);\n          if (payload.status.context_snapshot) {\n            setLiveContext(payload.status.context_snapshot);\n          }\n          if (payload.status.recent_evidence) {\n            const normalizedEvidence = (payload.status.recent_evidence as any[]).map((item) => ({\n              ...item,\n              recorded_at: ensureIsoTimestamp(item?.recorded_at as string | null),\n            }));\n            setRecentEvidence(normalizedEvidence.slice(-8));\n          }\n          if (payload.status.plan_overlays) {\n            const overlays = Array.isArray(payload.status.plan_overlays)\n              ? (payload.status.plan_overlays as any[]).map((item) => ({\n                  ...item,\n                  recorded_at: ensureIsoTimestamp(item?.recorded_at as string | null),\n                }))\n              : [];\n            setPlanOverlays(overlays);\n          }\n          setTaskDetail((prev) =>\n            prev\n              ? {\n                  ...prev,\n                  summary: {\n                    ...prev.summary,\n                    last_status: payload.status.status,\n                    last_recorded_at: payload.status.last_updated_at,\n                  },\n                }\n              : prev\n          );\n        } else if (payload.event === 'log') {\n          setLogs((prev) => [...prev, payload.log].slice(-200));\n        } else if (payload.event === 'context') {\n          setLiveContext(payload.context);\n        } else if (payload.event === 'observation') {\n          const artifact = payload.artifact ? { ...payload.artifact } : {};\n          const enriched = {\n            ...artifact,\n            observation_type: payload.observation_type,\n            screenshot_path: payload.screenshot_path,\n            bbox: payload.bbox,\n            dispatch_label: payload.dispatch_label,\n            dispatch_index: payload.dispatch_index,\n            content_type: payload.content_type ?? (artifact as any)?.content_type,\n            recorded_at: ensureIsoTimestamp(\n              payload.recorded_at ?? (artifact as any)?.recorded_at ?? null\n            ),\n            route: (artifact as any)?.route,\n          };\n          setRecentEvidence((prev) => {\n            const next = [...prev, enriched];\n            if (next.length > 8) {\n              next.splice(0, next.length - 8);\n            }\n            return next;\n          });\n          setObservationTimeline((prev) => {\n            const next = [...prev, enriched];\n            if (next.length > 50) {\n              next.splice(0, next.length - 50);\n            }\n            return next;\n          });\n        } else if (payload.event === 'overlay' && payload.overlay) {\n          if (payload.overlay.source === 'plan') {\n            setPlanOverlays((prev) => {\n              const next = Array.isArray(prev) ? [...prev] : [];\n              const stepId = payload.overlay.data?.step_id;\n              const overlayData = {\n                ...payload.overlay.data,\n                recorded_at: ensureIsoTimestamp(\n                  (payload.overlay.data as any)?.recorded_at ?? payload.overlay.recorded_at\n                ),\n              };\n              if (stepId) {\n                const idx = next.findIndex((item) => item?.step_id === stepId);\n                if (idx >= 0) {\n                  next[idx] = { ...next[idx], ...overlayData };\n                  return next;\n                }\n              }\n              next.push(overlayData);\n              return next;\n            });\n          } else {\n            setExecutionOverlays((prev) => {\n              const next = [...prev, payload.overlay];\n              if (next.length > 20) {\n                next.splice(0, next.length - 20);\n              }\n              return next;\n            });\n          }\n        } else if (payload.event === 'annotation' && payload.annotation) {\n          setAnnotations((prev) => [...prev, payload.annotation]);\n        } else if (payload.event === 'error') {\n          setStreamError(payload.message);\n        }\n      } catch (err) {\n        console.error('Failed to parse task stream event', err);\n      }\n    };\n\n    const connect = () => {\n      if (stopped || streamPaused) {\n        return;\n      }\n      try {\n        const socket = soulbrowserAPI.openTaskStream(selectedTask.task_id);\n        streamSocketRef.current = socket;\n        setStreamError(null);\n        socket.onopen = () => {\n          setStreamConnected(true);\n          setStreamError(null);\n        };\n        socket.onmessage = handleStreamMessage;\n        socket.onerror = () => {\n          setStreamConnected(false);\n          setStreamError('任务实时连接已断开');\n        };\n        socket.onclose = () => {\n          streamSocketRef.current = null;\n          setStreamConnected(false);\n          if (!stopped && !streamPaused) {\n            setStreamError((prev) => prev || '任务实时连接已关闭');\n            scheduleReconnect();\n          }\n        };\n      } catch (err) {\n        console.error('Failed to open task stream', err);\n        setStreamConnected(false);\n        setStreamError('无法连接任务实时流');\n        scheduleReconnect();\n      }\n    };\n\n    if (streamPaused) {\n      setStreamConnected(false);\n      setStreamError('实时伴随已暂停');\n      disconnect();\n      return () => {\n        stopped = true;\n        clearReconnectTimer();\n        disconnect();\n      };\n    }\n\n    connect();\n\n    return () => {\n      stopped = true;\n      clearReconnectTimer();\n      disconnect();\n    };\n  }, [detailVisible, selectedTask, streamPaused, streamSession]);\n\n  const handleReexecute = async () => {\n    if (!selectedTask) return;\n    setActionLoading(true);\n    try {\n      await soulbrowserAPI.executeTask(selectedTask.task_id);\n      message.success('已触发重新执行');\n      await loadTaskDetail(selectedTask.task_id);\n      fetchTasks();\n    } catch (err) {\n      console.error(err);\n      message.error('重新执行失败');\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleCancelTask = async () => {\n    if (!selectedTask) return;\n    setCancelLoading(true);\n    try {\n      await soulbrowserAPI.cancelTask(selectedTask.task_id);\n      message.success('取消请求已提交');\n      await loadTaskDetail(selectedTask.task_id);\n      fetchTasks();\n    } catch (err) {\n      console.error(err);\n      message.error('终止任务失败');\n    } finally {\n      setCancelLoading(false);\n    }\n  };\n\n  const handleRunViaGateway = async () => {\n    if (!taskDetail?.plan) {\n      message.warning('请选择包含计划的任务');\n      return;\n    }\n    setGatewayLoading(true);\n    try {\n      const response = await soulbrowserAPI.runGatewayPlan(taskDetail.plan);\n      message.success(`Gateway 已启动任务 ${response.task_id}`);\n      await fetchTasks();\n      await loadTaskDetail(response.task_id);\n    } catch (err) {\n      console.error(err);\n      message.error(err instanceof Error ? err.message : 'Gateway 执行失败');\n    } finally {\n      setGatewayLoading(false);\n    }\n  };\n\n  const handleSubmitAnnotation = useCallback(\n    async (values: CreateTaskAnnotationRequest) => {\n      if (!selectedTask) {\n        message.error('请选择任务');\n        return;\n      }\n      const note = values.note?.trim();\n      if (!note) {\n        message.error('请输入批注内容');\n        return;\n      }\n      setAnnotationSubmitting(true);\n      try {\n        const annotation = await soulbrowserAPI.createTaskAnnotation(selectedTask.task_id, {\n          ...values,\n          note,\n        });\n        setAnnotations((prev) => [...prev, annotation]);\n        annotationForm.resetFields();\n        message.success('已添加批注');\n      } catch (err) {\n        console.error(err);\n        message.error('添加批注失败');\n      } finally {\n        setAnnotationSubmitting(false);\n      }\n    },\n    [annotationForm, selectedTask]\n  );\n\n  const handleExportLogs = async () => {\n    if (!selectedTask) return;\n    try {\n      const history = await soulbrowserAPI.getTaskLogs(selectedTask.task_id);\n      const blob = new Blob([JSON.stringify(history, null, 2)], {\n        type: 'application/json',\n      });\n      const url = URL.createObjectURL(blob);\n      const anchor = document.createElement('a');\n      anchor.href = url;\n      anchor.download = `task-${selectedTask.task_id}-logs.json`;\n      anchor.click();\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(err);\n      message.error('导出日志失败');\n    }\n  };\n\n  const artifactsTabContent = useMemo(() => {\n    if (artifactsLoading) {\n      return (\n        <div className={styles.loadingPanel}>\n          <Spin />\n        </div>\n      );\n    }\n\n    if (!artifacts || !artifacts.items.length) {\n      return <Empty description=\"暂无采集结果\" />;\n    }\n\n    const summary = artifacts.summary;\n    const contentTypes = Object.entries(summary?.by_content_type ?? {});\n\n    const columns: ColumnsType<ArtifactListItem> = [\n      {\n        title: '标签',\n        dataIndex: 'label',\n        key: 'label',\n        width: 220,\n        render: (value: string, row) => (\n          <div>\n            <Typography.Text strong>{value}</Typography.Text>\n            <br />\n            <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n              Step {row.step_index + 1} · {row.step_id}\n            </Typography.Text>\n          </div>\n        ),\n      },\n      {\n        title: '文件名',\n        dataIndex: 'filename',\n        key: 'filename',\n        width: 220,\n        render: (_: string, row) => artifactFileName(row),\n      },\n      {\n        title: '类型',\n        dataIndex: 'content_type',\n        key: 'content_type',\n        width: 200,\n      },\n      {\n        title: '大小',\n        dataIndex: 'byte_len',\n        key: 'byte_len',\n        width: 140,\n        render: (value: number) => formatBytes(value),\n      },\n      {\n        title: '操作',\n        key: 'artifact-actions',\n        width: 200,\n        render: (_: unknown, row) => (\n          <Space>\n            <Button type=\"link\" size=\"small\" icon={<DownloadOutlined />} onClick={() => handleDownloadArtifact(row)}>\n              下载\n            </Button>\n            {row.data_base64 && row.content_type.includes('json') && (\n              <Button type=\"link\" size=\"small\" icon={<FileSearchOutlined />} onClick={() => handlePreviewArtifact(row)}>\n                预览\n              </Button>\n            )}\n          </Space>\n        ),\n      },\n    ];\n\n    return (\n      <div className={styles.artifactSection}>\n        <Descriptions bordered size=\"small\" column={3} className={styles.artifactSummary}>\n          <Descriptions.Item label=\"数量\">{summary?.count ?? artifacts.items.length}</Descriptions.Item>\n          <Descriptions.Item label=\"总大小\">\n            {summary?.total_bytes ? formatBytes(summary.total_bytes) : '—'}\n          </Descriptions.Item>\n          <Descriptions.Item label=\"任务 ID\">{artifacts.task_id}</Descriptions.Item>\n        </Descriptions>\n\n        {contentTypes.length > 0 && (\n          <List\n            size=\"small\"\n            header={<Typography.Text strong>内容类型分布</Typography.Text>}\n            dataSource={contentTypes}\n            renderItem={([type, count]) => (\n              <List.Item>\n                <Space>\n                  <Tag>{type}</Tag>\n                  <Typography.Text type=\"secondary\">{count} 个</Typography.Text>\n                </Space>\n              </List.Item>\n            )}\n          />\n        )}\n\n        <Table\n          className={styles.artifactTable}\n          dataSource={artifacts.items}\n          rowKey={(row) => `${row.action_id}-${row.artifact_index}`}\n          pagination={false}\n          size=\"small\"\n          columns={columns}\n        />\n      </div>\n    );\n  }, [\n    artifactFileName,\n    artifacts,\n    artifactsLoading,\n    handleDownloadArtifact,\n    handlePreviewArtifact,\n  ]);\n\n  const visualTabContent = useMemo(() => {\n    const fallbackPlan = (taskDetail?.plan?.plan as any)?.overlays;\n    const planAnchors = planOverlays.length\n      ? planOverlays\n      : Array.isArray(fallbackPlan)\n      ? fallbackPlan\n      : [];\n    const fallbackEvidence = Array.isArray(liveStatus?.recent_evidence)\n      ? (liveStatus?.recent_evidence as any[])\n      : [];\n    const evidenceList = recentEvidence.length ? recentEvidence : fallbackEvidence;\n    const imageEvidence = evidenceList.filter(\n      (item) =>\n        item?.content_type &&\n        String(item.content_type).startsWith('image/') &&\n        (item.data_base64 || item.screenshot_path)\n    );\n\n    const evidenceByStep = (() => {\n      const map = new Map<string, string>();\n      imageEvidence.forEach((item: any, idx: number) => {\n        if (item?.step_id) {\n          map.set(String(item.step_id), `evidence-card-${idx}`);\n        }\n      });\n      return map;\n    })();\n\n    const timelineItems = planAnchors.map((item: any, idx: number) => {\n      const stepId = item?.step_id ?? '';\n      const status = (() => {\n        if (\n          typeof liveStatus?.current_step === 'number' &&\n          liveStatus?.current_step === idx &&\n          liveStatus?.current_step_title\n        ) {\n          return '运行中';\n        }\n        if (stepId && evidenceByStep.has(String(stepId))) return '已观测';\n        return '待执行';\n      })();\n      return {\n        stepId,\n        title: item?.title || item?.action || '步骤',\n        locator: item?.locator,\n        status,\n      };\n    });\n\n    const bboxStyle = (bbox: any) => {\n      if (!bbox) return undefined;\n      const keys = ['x', 'y', 'width', 'height'];\n      if (!keys.every((k) => typeof bbox[k] === 'number')) return undefined;\n      const normalized = keys.every((k) => bbox[k] >= 0 && bbox[k] <= 1);\n      const style: React.CSSProperties = {\n        position: 'absolute',\n        border: '2px solid #ff7875',\n        boxShadow: '0 0 0 1px rgba(255,120,117,0.4)',\n        borderRadius: 4,\n      };\n      if (normalized) {\n        style.left = `${bbox.x * 100}%`;\n        style.top = `${bbox.y * 100}%`;\n        style.width = `${bbox.width * 100}%`;\n        style.height = `${bbox.height * 100}%`;\n      } else {\n        style.left = bbox.x;\n        style.top = bbox.y;\n        style.width = bbox.width;\n        style.height = bbox.height;\n      }\n      return style;\n    };\n\n    return (\n      <div className={styles.visualPanel}>\n        <div>\n          <Typography.Title level={5}>计划锚点</Typography.Title>\n                  {planAnchors && planAnchors.length ? (\n                    <List\n                      size=\"small\"\n                      dataSource={planAnchors}\n                      locale={{ emptyText: '暂无定位信息' }}\n                      renderItem={(item: any, index) => (\n                        <List.Item\n                          key={item?.step_id ?? index}\n                          className={styles.clickable}\n                          onClick={() => {\n                            const targetId = item?.step_id && evidenceByStep.get(String(item.step_id));\n                            if (targetId) {\n                              document.getElementById(targetId)?.scrollIntoView({\n                                behavior: 'smooth',\n                                block: 'center',\n                              });\n                            }\n                          }}\n                        >\n                          <Space direction=\"vertical\" size={0}>\n                            <Space size=\"small\">\n                              <Tag color=\"blue\">{item?.step_id ?? `step-${index + 1}`}</Tag>\n                              <Typography.Text>{item?.title || item?.action || '步骤'}</Typography.Text>\n                            </Space>\n                            {item?.locator && (\n                              <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                                {JSON.stringify(item.locator)}\n                              </Typography.Text>\n                            )}\n                          </Space>\n                        </List.Item>\n                      )}\n                    />\n                  ) : (\n                    <Empty description=\"暂无计划锚点\" />\n                  )}\n                </div>\n\n        <div>\n          <Typography.Title level={5}>执行时间线</Typography.Title>\n          {timelineItems.length ? (\n            <List\n              size=\"small\"\n              dataSource={timelineItems}\n              locale={{ emptyText: '暂无时间线' }}\n              renderItem={(item, index) => (\n                <List.Item\n                  className={`${styles.timelineItem} ${styles.clickable}`}\n                  key={item.stepId || index}\n                  onClick={() => {\n                    const targetId = item.stepId && evidenceByStep.get(String(item.stepId));\n                    if (targetId) {\n                      document.getElementById(targetId)?.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'center',\n                      });\n                    }\n                  }}\n                >\n                  <Space direction=\"vertical\" size={2}>\n                    <Space size=\"small\">\n                      <Tag color=\"geekblue\">{item.stepId || `step-${index + 1}`}</Tag>\n                      <Tag\n                        color={\n                          item.status === '运行中'\n                            ? 'processing'\n                            : item.status === '已观测'\n                            ? 'success'\n                            : 'default'\n                        }\n                      >\n                        {item.status}\n                      </Tag>\n                      <Typography.Text>{item.title}</Typography.Text>\n                    </Space>\n                    {item.locator && (\n                      <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                        {JSON.stringify(item.locator)}\n                      </Typography.Text>\n                    )}\n                  </Space>\n                </List.Item>\n              )}\n            />\n          ) : (\n            <Empty description=\"暂无时间线\" />\n          )}\n        </div>\n\n        <div>\n          <Typography.Title level={5}>最新视觉证据</Typography.Title>\n          {imageEvidence.length ? (\n            <div className={styles.evidenceGrid}>\n              {imageEvidence.map((item: any, idx) => (\n                <div\n                  id={`evidence-card-${idx}`}\n                  className={styles.evidenceCard}\n                  key={`${item?.step_id ?? 'evidence'}-${idx}`}\n                >\n                  <Typography.Text className={styles.evidenceLabel}>\n                    {item?.label || item?.dispatch_label || '截图'}\n                  </Typography.Text>\n                  {item.data_base64 || item.screenshot_path ? (\n                    <div className={styles.overlayWrapper}>\n                      <img\n                        src={\n                          item.data_base64\n                            ? `data:${item.content_type};base64,${item.data_base64}`\n                            : item.screenshot_path\n                        }\n                        alt={item?.label || `evidence-${idx}`}\n                      />\n                      {bboxStyle(item?.bbox) && (\n                        <div className={styles.overlayBox} style={bboxStyle(item?.bbox)}>\n                          <span className={styles.overlayLabel}>\n                            {item?.step_id || 'step'}\n                            {item?.dispatch_label ? ` · ${item.dispatch_label}` : ''}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <Typography.Text type=\"secondary\">\n                      无内嵌截图，可通过路径查看: {item.screenshot_path || '不可用'}\n                    </Typography.Text>\n                  )}\n                  <Typography.Text type=\"secondary\">\n                    {formatBytes(item?.byte_len)} · {item?.step_id || 'step'}\n                    {item?.dispatch_label ? ` · ${item.dispatch_label}` : ''}\n                    {typeof item?.dispatch_index === 'number' ? ` #${item.dispatch_index + 1}` : ''}\n                    {item?.route?.page ? ` · page ${item.route.page}` : ''}\n                  </Typography.Text>\n                  {item?.bbox !== undefined && item?.bbox !== null && (\n                    <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                      bbox: {JSON.stringify(item.bbox)}\n                    </Typography.Text>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <Empty description=\"暂无截图\" />\n          )}\n        </div>\n      </div>\n    );\n  }, [liveStatus, taskDetail, recentEvidence, planOverlays]);\n\n  const contextTabContent = useMemo(() => {\n    if (!liveContext) {\n      return <Empty description=\"暂无上下文数据\" />;\n    }\n\n    const screenshot = liveContext.screenshot_base64;\n    const insights = Array.isArray(liveContext.perception?.insights)\n      ? (liveContext.perception?.insights as any[])\n      : [];\n    const perception = liveContext.perception;\n\n    return (\n      <div className={styles.contextPanel}>\n        <div className={styles.contextMedia}>\n          {screenshot ? (\n            <img src={`data:image/png;base64,${screenshot}`} alt=\"页面截图\" />\n          ) : (\n            <Empty description=\"暂无截图\" />\n          )}\n          {liveContext.stderr && (\n            <Alert type=\"warning\" showIcon message={liveContext.stderr} style={{ marginTop: 12 }} />\n          )}\n          {liveContext.stdout && (\n            <Typography.Paragraph className={styles.contextStdout}>\n              {liveContext.stdout}\n            </Typography.Paragraph>\n          )}\n        </div>\n        <div className={styles.contextInfo}>\n          <Descriptions bordered size=\"small\" column={1}>\n            <Descriptions.Item label=\"抓取状态\">\n              {liveContext.success === false ? (\n                <Tag color=\"error\">失败</Tag>\n              ) : (\n                <Tag color=\"success\">成功</Tag>\n              )}\n            </Descriptions.Item>\n            {liveContext.error !== undefined && liveContext.error !== null && (\n              <Descriptions.Item label=\"错误信息\">\n                {formatUnknownValue(liveContext.error)}\n              </Descriptions.Item>\n            )}\n          </Descriptions>\n\n          {insights.length ? (\n            <div style={{ marginTop: 16 }}>\n              <Typography.Text strong>洞察</Typography.Text>\n              <List\n                size=\"small\"\n                dataSource={insights}\n                style={{ marginTop: 8 }}\n                renderItem={(item: any, index) => (\n                  <List.Item key={item?.type ?? index}>\n                    <Space direction=\"vertical\" size={0}>\n                      <Space>\n                        <Tag color=\"purple\">{item?.type || 'insight'}</Tag>\n                        <Typography.Text>{item?.severity || 'info'}</Typography.Text>\n                      </Space>\n                      <Typography.Text>{item?.message || '（无描述）'}</Typography.Text>\n                    </Space>\n                  </List.Item>\n                )}\n              />\n            </div>\n          ) : null}\n\n          {perception && (\n            <div className={styles.contextJson}>\n              <Typography.Text type=\"secondary\">感知结构</Typography.Text>\n              <pre>{JSON.stringify(perception, null, 2)}</pre>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }, [liveContext]);\n\n  const annotationTabContent = useMemo(() => {\n    return (\n      <div className={styles.annotationPanel}>\n        <div>\n          <Typography.Title level={5}>批注列表</Typography.Title>\n          {annotations.length ? (\n            <List\n              size=\"small\"\n              dataSource={annotations}\n              className={styles.annotationList}\n              renderItem={(item) => (\n                <List.Item key={item.id}>\n                  <Space direction=\"vertical\" size={0}>\n                    <Space size=\"small\">\n                      <Tag color=\"purple\">{item.step_id || 'step'}</Tag>\n                      {item.severity && <Tag color=\"volcano\">{item.severity}</Tag>}\n                      <Typography.Text type=\"secondary\">\n                        {formatTime(item.created_at)}\n                        {item.author ? ` · ${item.author}` : ''}\n                      </Typography.Text>\n                    </Space>\n                    <Typography.Text>{item.note}</Typography.Text>\n                    {item.bbox !== undefined && item.bbox !== null && (\n                      <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                        bbox: {JSON.stringify(item.bbox)}\n                      </Typography.Text>\n                    )}\n                  </Space>\n                </List.Item>\n              )}\n            />\n          ) : (\n            <Empty description=\"暂无批注\" />\n          )}\n        </div>\n\n        <div>\n          <Typography.Title level={5}>新增批注</Typography.Title>\n          <Form\n            layout=\"vertical\"\n            className={styles.annotationForm}\n            form={annotationForm}\n            onFinish={handleSubmitAnnotation}\n          >\n            <Space direction=\"horizontal\" size={12} wrap>\n              <Form.Item label=\"Step ID\" name=\"step_id\" style={{ flex: 1 }}>\n                <Input placeholder=\"可选，例如 llm-step-2\" allowClear />\n              </Form.Item>\n              <Form.Item label=\"Dispatch\" name=\"dispatch_label\" style={{ flex: 1 }}>\n                <Input placeholder=\"可选，例如 take-screenshot\" allowClear />\n              </Form.Item>\n              <Form.Item label=\"Severity\" name=\"severity\" style={{ width: 160 }}>\n                <Select\n                  allowClear\n                  options={[\n                    { value: 'info', label: 'info' },\n                    { value: 'warn', label: 'warn' },\n                    { value: 'critical', label: 'critical' },\n                  ]}\n                  placeholder=\"级别\"\n                />\n              </Form.Item>\n            </Space>\n            <Form.Item label=\"作者\" name=\"author\">\n              <Input placeholder=\"可选\" allowClear />\n            </Form.Item>\n            <Form.Item\n              label=\"批注内容\"\n              name=\"note\"\n              rules={[{ required: true, message: '请输入批注内容' }]}\n            >\n              <TextArea rows={3} placeholder=\"描述问题或补充说明\" allowClear />\n            </Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" loading={annotationSubmitting}>\n              提交批注\n            </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }, [annotations, annotationForm, annotationSubmitting, handleSubmitAnnotation]);\n\n  const companionTabContent = useMemo(() => {\n    return (\n      <Space direction=\"vertical\" size=\"large\" style={{ width: '100%' }}>\n        <LiveCompanion\n          taskId={selectedTask?.task_id}\n          status={liveStatus}\n          latestFrame={latestFrame}\n          frames={liveFrames}\n          overlays={executionOverlays}\n          annotations={annotations}\n          streamConnected={streamConnected}\n          streamPaused={streamPaused}\n          streamError={streamError}\n          onTogglePause={toggleStreamPaused}\n          onReconnect={handleReconnectStream}\n          onPreviewFrame={handlePreviewEvidence}\n          onPreviewOverlay={handlePreviewOverlay}\n          onRefreshSummary={refreshTaskSnapshot}\n        />\n        <ConversationBoard\n          planOverlays={planOverlays}\n          executionOverlays={executionOverlays}\n          logs={logs}\n          recentEvidence={recentEvidence}\n          onPreviewEvidence={handlePreviewEvidence}\n          onPreviewOverlay={handlePreviewOverlay}\n        />\n      </Space>\n    );\n  }, [\n    annotations,\n    executionOverlays,\n    handlePreviewEvidence,\n    handlePreviewOverlay,\n    handleReconnectStream,\n    latestFrame,\n    liveFrames,\n    liveStatus,\n    logs,\n    planOverlays,\n    recentEvidence,\n    refreshTaskSnapshot,\n    selectedTask?.task_id,\n    streamConnected,\n    streamError,\n    streamPaused,\n    toggleStreamPaused,\n  ]);\n\n  const planTabContent = useMemo(() => {\n    return renderPlan(taskDetail?.plan ?? null, downloadPlanRecord);\n  }, [downloadPlanRecord, taskDetail?.plan]);\n\n  const handleExportObservations = useCallback(\n    (items: Record<string, any>[]) => {\n      if (!items.length) {\n        message.warning('没有可导出的观测记录');\n        return;\n      }\n      try {\n        setDownloadingObservations(true);\n        const blob = new Blob([JSON.stringify(items, null, 2)], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const anchor = document.createElement('a');\n        anchor.href = url;\n        const filename = selectedTask\n          ? `${selectedTask.task_id}-observations.json`\n          : `observations-${Date.now()}.json`;\n        anchor.download = filename;\n        anchor.click();\n        URL.revokeObjectURL(url);\n        message.success('观测记录已导出');\n      } catch (err) {\n        console.error(err);\n        message.error('导出观测记录失败');\n      } finally {\n        setDownloadingObservations(false);\n      }\n    },\n    [selectedTask]\n  );\n\n  const observationTabContent = useMemo(() => {\n    if (!observationTimeline.length) {\n      return <Empty description=\"暂无观测\" />;\n    }\n    const items = [...observationTimeline]\n      .filter((item) => {\n        if (observationTypeFilter === 'all') {\n          return true;\n        }\n        if (observationTypeFilter === 'image') {\n          return (item?.observation_type || item?.content_type || '').includes('image');\n        }\n        return !(item?.observation_type || item?.content_type || '').includes('image');\n      })\n      .filter((item) => {\n        if (!observationSearch.trim()) return true;\n        const term = observationSearch.trim().toLowerCase();\n        return (\n          (item?.dispatch_label || '').toLowerCase().includes(term) ||\n          (item?.note || '').toLowerCase().includes(term) ||\n          (item?.step_id || '').toLowerCase().includes(term)\n        );\n      })\n      .reverse();\n    const controls = (\n      <Space style={{ marginBottom: 12 }} wrap>\n        <Select\n          value={observationTypeFilter}\n          onChange={(value) => setObservationTypeFilter(value)}\n          options={[\n            { value: 'all', label: '全部' },\n            { value: 'image', label: '仅图像' },\n            { value: 'artifact', label: '仅日志/数据' },\n          ]}\n          style={{ width: 140 }}\n          size=\"small\"\n        />\n        <Input\n          allowClear\n          size=\"small\"\n          placeholder=\"按 Step/Dispatch 过滤\"\n          value={observationSearch}\n          onChange={(e) => setObservationSearch(e.target.value)}\n          style={{ width: 220 }}\n        />\n        {observationSearch || observationTypeFilter !== 'all' ? (\n          <Button size=\"small\" onClick={() => {\n            setObservationTypeFilter('all');\n            setObservationSearch('');\n          }}>\n            重置\n          </Button>\n        ) : null}\n      </Space>\n    );\n    return (\n      <div>\n        <Space align=\"center\" style={{ marginBottom: 12 }} wrap>\n          {controls}\n          <Button\n            icon={<DownloadOutlined />}\n            size=\"small\"\n            loading={downloadingObservations}\n            disabled={!observationTimeline.length}\n            onClick={() => handleExportObservations(items)}\n          >\n            导出 JSON\n          </Button>\n        </Space>\n        <List\n          size=\"small\"\n          dataSource={items}\n          className={styles.logsPanel}\n          renderItem={(item, index) => {\n            const src = imageSourceFromRecord(item);\n            return (\n              <List.Item className={styles.timelineItem} key={`${item?.recorded_at || index}-${index}`}>\n                <Space direction=\"vertical\" size={2} style={{ width: '100%' }}>\n                  <Space size=\"small\" wrap>\n                    <Tag color=\"geekblue\">{item?.observation_type || 'observation'}</Tag>\n                    {item?.dispatch_label && <Tag>{item.dispatch_label}</Tag>}\n                    {item?.step_id && <Tag color=\"default\">Step {item.step_id}</Tag>}\n                    <Typography.Text type=\"secondary\">{formatTime(item?.recorded_at)}</Typography.Text>\n                  </Space>\n                  {item?.note && <Typography.Text>{item.note}</Typography.Text>}\n                  {item?.bbox && (\n                    <Typography.Text type=\"secondary\" className={styles.locatorText}>\n                      bbox: {JSON.stringify(item.bbox)}\n                    </Typography.Text>\n                  )}\n                  {src ? (\n                    <img\n                      src={src}\n                      alt={item?.label || 'observation-preview'}\n                      className={styles.previewableImage}\n                      onClick={() => handlePreviewEvidence(item)}\n                    />\n                  ) : null}\n                </Space>\n              </List.Item>\n            );\n          }}\n        />\n      </div>\n    );\n  }, [downloadingObservations, handleExportObservations, handlePreviewEvidence, imageSourceFromRecord, observationSearch, observationTimeline, observationTypeFilter]);\n\n\n  const openCreateModal = () => {\n    setCreateVisible(true);\n  };\n\n  const closeCreateModal = () => {\n    setCreateVisible(false);\n    createForm.resetFields();\n    setActiveTemplate(null);\n  };\n\n  const applyTemplateToForm = useCallback(\n    (record: MemoryRecord, options?: { openModal?: boolean; notify?: boolean }) => {\n      const metadata: Record<string, unknown> = isPlainRecord(record.metadata)\n        ? record.metadata\n        : {};\n      const updates: Partial<CreateFormValues> = {};\n\n      const promptValue = asString(metadata.prompt);\n      if (promptValue) {\n        updates.prompt = promptValue;\n      }\n      const currentUrlValue = asString(metadata.current_url ?? metadata.currentUrl);\n      if (currentUrlValue) {\n        updates.currentUrl = currentUrlValue;\n      }\n      const constraintsValue = metadata.constraints;\n      if (Array.isArray(constraintsValue)) {\n        const normalized = constraintsValue.filter((item): item is string => typeof item === 'string');\n        if (normalized.length) {\n          updates.constraints = normalized.join('\\n');\n        }\n      } else {\n        const constraintString = asString(constraintsValue);\n        if (constraintString) {\n          updates.constraints = constraintString;\n        }\n      }\n      const plannerValue = asString(metadata.planner);\n      if (plannerValue === 'rule' || plannerValue === 'llm') {\n        updates.planner = plannerValue;\n      }\n      const llmProviderValue = asString(metadata.llm_provider ?? metadata.llmProvider);\n      if (llmProviderValue) {\n        updates.llmProvider = llmProviderValue;\n      }\n      const llmModelValue = asString(metadata.llm_model ?? metadata.llmModel);\n      if (llmModelValue) {\n        updates.llmModel = llmModelValue;\n      }\n      const executeValue = asBoolean(metadata.execute);\n      if (typeof executeValue === 'boolean') {\n        updates.execute = executeValue;\n      }\n      const maxReplansValue = asNumber(metadata.max_replans ?? metadata.maxReplans);\n      if (typeof maxReplansValue === 'number') {\n        updates.maxReplans = maxReplansValue;\n      }\n      const maxRetriesValue = asNumber(metadata.max_retries ?? metadata.maxRetries);\n      if (typeof maxRetriesValue === 'number') {\n        updates.maxRetries = maxRetriesValue;\n      }\n      const captureContextValue = asBoolean(metadata.capture_context ?? metadata.captureContext);\n      if (typeof captureContextValue === 'boolean') {\n        updates.captureContext = captureContextValue;\n      }\n      const contextScreenshotValue = asBoolean(\n        metadata.context_screenshot ?? metadata.contextScreenshot\n      );\n      if (typeof contextScreenshotValue === 'boolean') {\n        updates.contextScreenshot = contextScreenshotValue;\n      }\n      const contextTimeoutValue = asNumber(\n        metadata.context_timeout_secs ?? metadata.contextTimeoutSecs\n      );\n      if (typeof contextTimeoutValue === 'number') {\n        updates.contextTimeout = contextTimeoutValue;\n      }\n\n      if (Object.keys(updates).length > 0) {\n        createForm.setFieldsValue(updates);\n      }\n      createForm.setFieldsValue({ templateId: record.id });\n      setActiveTemplate(record);\n      if (options?.openModal !== false) {\n        setCreateVisible(true);\n      }\n      if (options?.notify !== false) {\n        message.success(`已加载模板：${record.key}`);\n      }\n    },\n    [createForm]\n  );\n\n  const handleApplyTemplate = useCallback(\n    (record: MemoryRecord) => {\n      applyTemplateToForm(record);\n    },\n    [applyTemplateToForm]\n  );\n\n  const clearActiveTemplate = useCallback(() => {\n    setActiveTemplate(null);\n    createForm.setFieldsValue({ templateId: undefined });\n  }, [createForm]);\n\n  const handleCreateTask = async () => {\n    try {\n      const values = (await createForm.validateFields()) as CreateFormValues;\n      setCreateLoading(true);\n      const constraintLines: string[] | undefined = values.constraints\n        ? values.constraints\n            .split('\\n')\n            .map((line: string) => line.trim())\n            .filter((line: string) => line.length > 0)\n        : undefined;\n\n      const payload: CreateTaskRequest = {\n        prompt: values.prompt.trim(),\n        planner: values.planner,\n        execute: values.execute ?? false,\n        max_replans: values.maxReplans,\n        max_retries: values.maxRetries,\n        constraints: constraintLines && constraintLines.length ? constraintLines : undefined,\n        current_url: values.currentUrl?.trim() || undefined,\n      };\n\n      if (typeof values.captureContext === 'boolean') {\n        payload.capture_context = values.captureContext;\n      }\n      if (values.captureContext) {\n        payload.context_screenshot = values.contextScreenshot ?? true;\n        if (values.contextTimeout && values.contextTimeout > 0) {\n          payload.context_timeout_secs = values.contextTimeout;\n        }\n      }\n\n      if (values.planner === 'llm') {\n        payload.llm_provider = values.llmProvider;\n        if (values.llmModel) {\n          payload.llm_model = values.llmModel.trim();\n        }\n      }\n\n      if (activeTemplate) {\n        payload.template_id = activeTemplate.id;\n        payload.template_ref = `${activeTemplate.namespace}:${activeTemplate.key}`;\n      }\n\n      const response = await soulbrowserAPI.createTask(payload);\n      if (response.success) {\n        message.success(\n          response.task_id ? `任务已创建：${response.task_id}` : '任务已创建'\n        );\n        closeCreateModal();\n        fetchTasks();\n      } else {\n        const errMsg = response.stderr?.join('\\n') || '任务创建失败';\n        message.error(errMsg);\n      }\n    } catch (err: any) {\n      if (err?.errorFields) {\n        return;\n      }\n      console.error(err);\n      message.error('任务创建失败');\n    } finally {\n      setCreateLoading(false);\n    }\n  };\n\n  const columns: ColumnsType<TaskSummary> = useMemo(\n    () => [\n      {\n        title: '任务 ID',\n        dataIndex: 'task_id',\n        key: 'task_id',\n        width: 280,\n        render: (value: string) => (\n          <Typography.Text copyable ellipsis={{ tooltip: value }}>\n            {value}\n          </Typography.Text>\n        ),\n      },\n      {\n        title: '状态',\n        dataIndex: 'last_status',\n        key: 'last_status',\n        width: 140,\n        render: (value?: string | null) => renderStatusTag(value),\n      },\n      {\n        title: '提示词',\n        dataIndex: 'prompt',\n        key: 'prompt',\n        ellipsis: true,\n        render: (value?: string | null) => value || '—',\n      },\n      {\n        title: '来源',\n        dataIndex: 'source',\n        key: 'source',\n        width: 120,\n        render: (value?: string | null) => value || '—',\n      },\n      {\n        title: 'Planner',\n        dataIndex: 'planner',\n        key: 'planner',\n        width: 120,\n        render: (value?: string | null) => value || '—',\n      },\n      {\n        title: '最近更新',\n        dataIndex: 'last_recorded_at',\n        key: 'last_recorded_at',\n        width: 200,\n        render: (_: unknown, record) =>\n          formatTime(record.last_recorded_at || record.created_at),\n      },\n      {\n        title: '操作',\n        key: 'actions',\n        width: 120,\n        render: (_: unknown, record) => (\n          <Button\n            type=\"link\"\n            icon={<EyeOutlined />}\n            onClick={() => openDetail(record)}\n          >\n            详情\n          </Button>\n        ),\n      },\n    ],\n    []\n  );\n\n  const detailSummary = taskDetail?.summary || selectedTask;\n  const currentStatus = liveStatus?.status || detailSummary?.last_status;\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.header}>\n        <div>\n          <Typography.Title level={3}>任务中心</Typography.Title>\n          <Typography.Text type=\"secondary\">\n            查看历史任务、执行状态以及调度详情\n          </Typography.Text>\n        </div>\n        <Space>\n          <Button icon={<ReloadOutlined />} onClick={fetchTasks} loading={loading}>\n            刷新\n          </Button>\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={openCreateModal}>\n            新建任务\n          </Button>\n        </Space>\n      </div>\n\n      <div className={styles.tableWrapper}>\n        {tasks.length === 0 && !loading ? (\n          <Empty description=\"暂无任务，尝试在聊天中执行新任务\" />\n        ) : (\n          <Table<TaskSummary>\n            rowKey={(row) => row.task_id}\n            dataSource={tasks}\n            columns={columns}\n            loading={loading}\n            pagination={{ pageSize: 10 }}\n          />\n        )}\n      </div>\n\n      <TemplatesPane\n        onApplyTemplate={handleApplyTemplate}\n        onTemplateDeleted={(record) => {\n          if (activeTemplate?.id === record.id) {\n            clearActiveTemplate();\n          }\n        }}\n        onTemplateUpdated={(record) => {\n          if (activeTemplate?.id === record.id) {\n            applyTemplateToForm(record, { openModal: false, notify: false });\n          }\n        }}\n      />\n\n      <Drawer\n        title={detailSummary ? `任务详情：${detailSummary.task_id}` : '任务详情'}\n        width={960}\n        open={detailVisible}\n        onClose={closeDetail}\n        destroyOnClose\n      >\n        {detailLoading ? (\n          <div className={styles.loadingPanel}>\n            <Spin />\n          </div>\n        ) : detailSummary ? (\n          <>\n            <Descriptions bordered column={2} size=\"small\">\n              <Descriptions.Item label=\"状态\">\n                {renderStatusTag(currentStatus)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"来源\">\n                {detailSummary.source || '—'}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"Planner\">\n                {detailSummary.planner || '—'}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"LLM Provider\">\n                {detailSummary.llm_provider || '—'}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"LLM Model\">\n                {detailSummary.llm_model || '—'}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"提示词\" span={2}>\n                {detailSummary.prompt || '—'}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"创建时间\">\n                {formatTime(detailSummary.created_at)}\n              </Descriptions.Item>\n              <Descriptions.Item label=\"最近更新\">\n                {formatTime(detailSummary.last_recorded_at)}\n              </Descriptions.Item>\n            </Descriptions>\n\n            <Tabs\n              className={styles.detailTabs}\n              items={[\n                {\n                  key: 'plan',\n                  label: '计划详情',\n                  children: planTabContent,\n                },\n                {\n                  key: 'companion',\n                  label: '实时伴随',\n                  children: companionTabContent,\n                },\n                {\n                  key: 'context',\n                  label: '页面上下文',\n                  children: contextTabContent,\n                },\n                {\n                  key: 'dispatches',\n                  label: '调度记录',\n                  children: renderDispatches(taskDetail?.dispatches ?? []),\n                },\n                {\n                  key: 'observations',\n                  label: '观测流水',\n                  children: observationTabContent,\n                },\n                {\n                  key: 'logs',\n                  label: '实时日志',\n                  children: (\n                    <div className={styles.logsPanel}>\n                      {streamError && <Alert type=\"warning\" message={streamError} showIcon closable />}\n                      {logs.length ? (\n                        <List\n                          size=\"small\"\n                          dataSource={logs}\n                          renderItem={(item, index) => (\n                            <List.Item className={styles.logItem} key={`${item.timestamp}-${index}`}>\n                              <Space size=\"small\">\n                                <Typography.Text type=\"secondary\">\n                                  {formatTime(item.timestamp)}\n                                </Typography.Text>\n                                <Tag color={logLevelColor[item.level] || 'default'}>{item.level.toUpperCase()}</Tag>\n                                <Typography.Text>{item.message}</Typography.Text>\n                              </Space>\n                            </List.Item>\n                          )}\n                        />\n                      ) : (\n                        <Empty description=\"暂无日志\" />\n                      )}\n                    </div>\n                  ),\n                },\n                {\n                  key: 'artifacts',\n                  label: '采集结果',\n                  children: artifactsTabContent,\n                },\n                {\n                  key: 'visuals',\n                  label: '视觉锚点',\n                  children: visualTabContent,\n                },\n                {\n                  key: 'annotations',\n                  label: '批注',\n                  children: annotationTabContent,\n                },\n              ]}\n            />\n\n            <div className={styles.actionBar}>\n              <Space>\n                <Button\n                  icon={<RedoOutlined />}\n                  loading={actionLoading}\n                  onClick={handleReexecute}\n                  type=\"primary\"\n                >\n                  重新执行\n                </Button>\n                <Button\n                  icon={<FileSearchOutlined />}\n                  loading={gatewayLoading}\n                  onClick={handleRunViaGateway}\n                >\n                  Gateway 执行\n                </Button>\n                <Button\n                  icon={<StopOutlined />}\n                  danger\n                  loading={cancelLoading}\n                  onClick={handleCancelTask}\n                >\n                  终止任务\n                </Button>\n                <Button icon={<DownloadOutlined />} onClick={handleExportLogs}>\n                  导出日志\n                </Button>\n              </Space>\n            </div>\n          </>\n        ) : (\n          <Empty description=\"暂无详情\" />\n        )}\n      </Drawer>\n\n      <Modal\n        title={artifactPreview.title || 'Artifact 预览'}\n        open={artifactPreview.visible}\n        onCancel={() => setArtifactPreview({ visible: false })}\n        footer={null}\n        width={720}\n        destroyOnClose\n      >\n        <pre className={styles.previewBlock}>{artifactPreview.content || '暂无内容'}</pre>\n      </Modal>\n\n      <Modal\n        title={evidencePreview.title || '图像预览'}\n        open={evidencePreview.visible}\n        onCancel={closeEvidencePreview}\n        footer={null}\n        width={720}\n        destroyOnClose\n      >\n        {evidencePreview.src ? (\n          <img\n            src={evidencePreview.src}\n            alt={evidencePreview.title || 'evidence-preview'}\n            className={styles.previewableImage}\n            style={{ maxHeight: '70vh' }}\n          />\n        ) : (\n          <Empty description=\"暂无可预览的图像\" />\n        )}\n      </Modal>\n\n      <Modal\n        title=\"新建任务\"\n        open={createVisible}\n        onCancel={closeCreateModal}\n        onOk={handleCreateTask}\n        confirmLoading={createLoading}\n        destroyOnClose\n      >\n        {activeTemplate && (\n          <Alert\n            type=\"info\"\n            showIcon\n            className={styles.templateAlert}\n            message={\n              <Space size={8} wrap>\n                <Typography.Text strong>已加载模板</Typography.Text>\n                <Tag color=\"geekblue\">{activeTemplate.namespace}</Tag>\n                <Typography.Text>{activeTemplate.key}</Typography.Text>\n              </Space>\n            }\n            action={\n              <Button size=\"small\" onClick={clearActiveTemplate}>\n                清除\n              </Button>\n            }\n            style={{ marginBottom: 12 }}\n          />\n        )}\n        <Form\n          layout=\"vertical\"\n          form={createForm}\n          initialValues={{\n            planner: 'rule',\n          llmProvider: 'mock',\n          execute: false,\n          maxReplans: 0,\n          maxRetries: 1,\n          captureContext: true,\n          contextScreenshot: true,\n          contextTimeout: 25,\n        }}\n      >\n          <Form.Item\n            label=\"任务提示\"\n            name=\"prompt\"\n            rules={[{ required: true, message: '请输入任务描述' }]}\n          >\n            <TextArea rows={4} placeholder=\"描述需要自动化完成的目标\" allowClear />\n          </Form.Item>\n          <Form.Item label=\"当前 URL\" name=\"currentUrl\">\n            <Input placeholder=\"https://example.com\" allowClear />\n          </Form.Item>\n          <Form.Item label=\"额外约束\" name=\"constraints\">\n            <TextArea rows={2} placeholder=\"可选，每行一个约束\" allowClear />\n          </Form.Item>\n          <Form.Item label=\"Planner\" name=\"planner\">\n            <Select\n              options={[\n                { label: 'Rule-based', value: 'rule' },\n                { label: 'LLM', value: 'llm' },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item\n            label=\"LLM Provider\"\n            name=\"llmProvider\"\n            hidden={!isLlmPlanner}\n            rules={isLlmPlanner ? [{ required: true, message: '请选择 LLM Provider' }] : []}\n          >\n            <Select\n              disabled={!isLlmPlanner}\n              options={[\n                { label: 'Mock', value: 'mock' },\n                { label: 'OpenAI', value: 'openai' },\n                { label: 'Claude', value: 'claude' },\n              ]}\n            />\n          </Form.Item>\n          <Form.Item label=\"LLM Model\" name=\"llmModel\" hidden={!isLlmPlanner}>\n            <Input placeholder=\"如 gpt-4o-mini\" disabled={!isLlmPlanner} allowClear />\n          </Form.Item>\n          <Form.Item label=\"立即执行\" name=\"execute\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n          <Form.Item label=\"最大重新规划次数\" name=\"maxReplans\">\n            <InputNumber min={0} style={{ width: '100%' }} />\n          </Form.Item>\n          <Form.Item label=\"每步最大重试次数\" name=\"maxRetries\">\n            <InputNumber min={1} style={{ width: '100%' }} />\n          </Form.Item>\n          <Form.Item label=\"捕获页面上下文\" name=\"captureContext\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n          {captureContextValue ? (\n            <>\n              <Form.Item label=\"保存上下文截图\" name=\"contextScreenshot\" valuePropName=\"checked\">\n                <Switch />\n              </Form.Item>\n              <Form.Item label=\"上下文超时（秒）\" name=\"contextTimeout\">\n                <InputNumber min={5} max={120} style={{ width: '100%' }} />\n              </Form.Item>\n            </>\n          ) : null}\n          <Form.Item name=\"templateId\" hidden>\n            <Input type=\"hidden\" />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n}\n\nconst renderPlan = (\n  plan?: PersistedPlanRecord | null,\n  onExport?: (plan: PersistedPlanRecord) => void\n) => {\n  if (!plan) {\n    return <Empty description=\"暂无计划数据\" />;\n  }\n  return (\n    <div className={styles.jsonPanel}>\n      <Space style={{ marginBottom: 12 }}>\n        <Button\n          type=\"primary\"\n          icon={<DownloadOutlined />}\n          onClick={() => onExport?.(plan)}\n        >\n          导出 JSON\n        </Button>\n      </Space>\n      <Descriptions bordered column={3} size=\"small\" style={{ marginBottom: 12 }}>\n        <Descriptions.Item label=\"Planner\">{plan.planner}</Descriptions.Item>\n        <Descriptions.Item label=\"LLM Provider\">{plan.llm_provider || '—'}</Descriptions.Item>\n        <Descriptions.Item label=\"LLM Model\">{plan.llm_model || '—'}</Descriptions.Item>\n      </Descriptions>\n      <Typography.Paragraph copyable strong>\n        计划结构\n      </Typography.Paragraph>\n      <pre>{JSON.stringify(plan.plan, null, 2)}</pre>\n      <Typography.Paragraph copyable strong>\n        执行流定义\n      </Typography.Paragraph>\n      <pre>{JSON.stringify(plan.flow, null, 2)}</pre>\n    </div>\n  );\n};\n\nconst renderDispatches = (dispatches: TaskDispatchSummary[]) => {\n  if (!dispatches.length) {\n    return <Empty description=\"暂无调度记录\" />;\n  }\n  return (\n    <Table<TaskDispatchSummary>\n      dataSource={dispatches}\n      size=\"small\"\n      rowKey={(row) => row.action_id}\n      pagination={false}\n      columns={[\n        { title: 'Action ID', dataIndex: 'action_id', ellipsis: true },\n        { title: '工具', dataIndex: 'tool', width: 140 },\n        { title: '状态', dataIndex: 'status', width: 120 },\n        {\n          title: '等待/执行 (ms)',\n          width: 160,\n          render: (_, row) => `${row.wait_ms} / ${row.run_ms}`,\n        },\n        {\n          title: '记录时间',\n          dataIndex: 'recorded_at',\n          width: 200,\n          render: (value: string) => formatTime(value),\n        },\n      ]}\n    />\n  );\n};\n\nconst decodeBase64 = (input: string) => {\n  try {\n    const decoded = atob(input);\n    return decodeURIComponent(\n      decoded\n        .split('')\n        .map((char) => `%${('00' + char.charCodeAt(0).toString(16)).slice(-2)}`)\n        .join('')\n    );\n  } catch {\n    return atob(input);\n  }\n};\n","import { useEffect, useState } from 'react';\nimport {\n  Card,\n  Space,\n  Tag,\n  Alert,\n  Statistic,\n  Button,\n  Spin,\n  Empty,\n} from 'antd';\nimport {\n  SafetyCertificateOutlined,\n  ApiOutlined,\n  FileProtectOutlined,\n} from '@ant-design/icons';\nimport dayjs from 'dayjs';\nimport soulbrowserAPI, {\n  type GovernanceAlert,\n  type GovernanceOverview,\n} from '@/api/soulbrowser';\nimport styles from './GovernancePage.module.css';\n\nconst formatMs = (value: number) => `${value} ms`;\nconst formatBackoff = (value: number) => `${(value / 1000).toFixed(1)} s`;\n\nexport default function GovernancePage() {\n  const [overview, setOverview] = useState<GovernanceOverview | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const loadOverview = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const snapshot = await soulbrowserAPI.getGovernanceOverview();\n      setOverview(snapshot);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : '加载治理信息失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    void loadOverview();\n  }, []);\n\n  const renderAlerts = (alerts: GovernanceAlert[]) => {\n    if (!alerts.length) {\n      return <Alert type=\"success\" message=\"暂无治理告警\" showIcon />;\n    }\n    return (\n      <div className={styles.alertList}>\n        {alerts.map((alert, idx) => (\n          <Alert key={`alert-${idx}`} type={alert.level as any} message={alert.message} description={alert.details} showIcon />\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className={styles.wrapper}>\n      <Space direction=\"horizontal\" style={{ justifyContent: 'space-between' }}>\n        <div className={styles.sectionTitle}>\n          <SafetyCertificateOutlined />\n          <h2 style={{ margin: 0 }}>治理中心</h2>\n        </div>\n        <Button onClick={() => loadOverview()} loading={loading} type=\"link\">\n          刷新\n        </Button>\n      </Space>\n\n      {error && <Alert type=\"error\" message={error} showIcon closable onClose={() => setError(null)} />}\n\n      <Card className={styles.sectionCard} title=\"治理告警\">\n        {loading && !overview ? <Spin /> : overview ? renderAlerts(overview.alerts) : <Empty description=\"暂无数据\" />}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.sectionTitle}>\n            <ApiOutlined />\n            调度与配额\n          </div>\n        }\n      >\n        {overview ? (\n          <div className={styles.statsGrid}>\n            <Statistic title=\"策略版本\" value={overview.policy.revision} />\n            <Statistic title=\"Global Slots\" value={overview.policy.scheduler_limits.global_slots} />\n            <Statistic title=\"Per Task\" value={overview.policy.scheduler_limits.per_task_limit} />\n            <Statistic title=\"队列容量\" value={overview.policy.scheduler_limits.queue_capacity} />\n            <Statistic title=\"最大重试\" value={overview.policy.retry.max_attempts} />\n            <Statistic title=\"退避\" value={formatBackoff(overview.policy.retry.backoff_ms)} />\n            <Statistic title=\"Navigate\" value={formatMs(overview.policy.scheduler_timeouts.navigate_ms)} />\n            <Statistic title=\"Click\" value={formatMs(overview.policy.scheduler_timeouts.click_ms)} />\n            <Statistic title=\"Type\" value={formatMs(overview.policy.scheduler_timeouts.type_text_ms)} />\n            <Statistic title=\"Screenshot\" value={formatMs(overview.policy.scheduler_timeouts.screenshot_ms)} />\n          </div>\n        ) : loading ? (\n          <Spin />\n        ) : (\n          <Empty description=\"暂无配额数据\" />\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.sectionTitle}>\n            <SafetyCertificateOutlined />\n            功能开关\n          </div>\n        }\n      >\n        {overview ? (\n          <div className={styles.featuresList}>\n            <Tag color={overview.policy.features.metrics_export ? 'green' : 'red'}>\n              指标导出：{overview.policy.features.metrics_export ? '开启' : '关闭'}\n            </Tag>\n            <Tag color={overview.policy.features.state_center_persistence ? 'green' : 'red'}>\n              State Center 持久化：\n              {overview.policy.features.state_center_persistence ? '开启' : '关闭'}\n            </Tag>\n            <Tag color={overview.policy.features.registry_ingest_bus ? 'blue' : 'default'}>\n              Registry Ingest Bus：\n              {overview.policy.features.registry_ingest_bus ? '开启' : '关闭'}\n            </Tag>\n            <Tag color={overview.policy.registry.allow_multiple_pages ? 'blue' : 'default'}>\n              多页面：{overview.policy.registry.allow_multiple_pages ? '允许' : '禁止'}\n            </Tag>\n            <Tag color=\"default\">Health Probe：{overview.policy.registry.health_probe_interval_ms} ms</Tag>\n          </div>\n        ) : loading ? (\n          <Spin />\n        ) : (\n          <Empty description=\"暂无功能信息\" />\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.sectionTitle}>\n            <FileProtectOutlined />\n            策略文件\n          </div>\n        }\n      >\n        {overview ? (\n          <ul className={styles.policyList}>\n            {overview.policy_files.map((file) => (\n              <li key={file.path} className={styles.policyItem}>\n                <span>{file.path}</span>\n                <Tag color={file.exists ? 'green' : 'red'}>{file.exists ? '可用' : '缺失'}</Tag>\n              </li>\n            ))}\n          </ul>\n        ) : loading ? (\n          <Spin />\n        ) : (\n          <Empty description=\"暂无策略文件\" />\n        )}\n      </Card>\n\n      <Card\n        className={styles.sectionCard}\n        title={\n          <div className={styles.sectionTitle}>\n            <SafetyCertificateOutlined />\n            插件治理\n          </div>\n        }\n      >\n        {overview ? (\n          <div className={styles.pluginSummary}>\n            <Statistic title=\"注册插件\" value={overview.plugins.total_registry_entries} />\n            <Statistic title=\"已启用\" value={overview.plugins.active_plugins} />\n            <Statistic title=\"待审核\" value={overview.plugins.pending_review} valueStyle={{ color: overview.plugins.pending_review > 0 ? '#faad14' : undefined }} />\n            <Statistic\n              title=\"最近审核\"\n              value={\n                overview.plugins.last_reviewed_at\n                  ? dayjs(overview.plugins.last_reviewed_at).format('YYYY-MM-DD HH:mm')\n                  : '—'\n              }\n            />\n            {overview.plugins.registry_path && (\n              <Tag color=\"default\">Registry: {overview.plugins.registry_path}</Tag>\n            )}\n          </div>\n        ) : loading ? (\n          <Spin />\n        ) : (\n          <Empty description=\"暂无插件信息\" />\n        )}\n      </Card>\n    </div>\n  );\n}\n","import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { ConfigProvider, theme } from 'antd';\nimport zhCN from 'antd/locale/zh_CN';\nimport MainLayout from './components/common/MainLayout';\nimport ChatPage from './components/chat/ChatPage';\nimport PerceivePage from './components/perceive/PerceivePage';\nimport DiagnosticsPage from './components/diagnostics/DiagnosticsPage';\nimport TasksPage from './components/tasks/TasksPage';\nimport GovernancePage from './components/governance/GovernancePage';\n\nfunction App() {\n  return (\n    <ConfigProvider\n      locale={zhCN}\n      theme={{\n        algorithm: theme.darkAlgorithm,\n        token: {\n          colorPrimary: '#1890ff',\n          borderRadius: 6,\n        },\n      }}\n    >\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<MainLayout />}>\n            <Route index element={<Navigate to=\"/chat\" replace />} />\n            <Route path=\"chat\" element={<ChatPage />} />\n            <Route path=\"perceive\" element={<PerceivePage />} />\n            <Route path=\"diagnostics\" element={<DiagnosticsPage />} />\n            <Route path=\"tasks\" element={<TasksPage />} />\n            <Route path=\"governance\" element={<GovernancePage />} />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n    </ConfigProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","_interopRequireDefault","module","zh_CN","locale","_typeof","o","toPrimitive","t","r","i","require$$1","toPropertyKey","_defineProperty","defineProperty","ownKeys","_objectSpread2","common","_common","require$$2","_zh_CN","_zh_CN2","_zh_CN3","require$$3","_zh_CN4","require$$4","typeTemplate","localeValues","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","x","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","value","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","createJSONStorage","getStorage","options","storage","name","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","config","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","thenableSerialize","setItem","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","_b","migrationResult","migrated","persistImpl","persist","bind","thisArg","toString","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","kindOfTest","type","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isEmptyObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","key","findKey","_key","_global","isContextDefined","context","merge","caseless","skipUndefined","assignValue","targetKey","extend","stripBOM","content","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","data","asap","isIterable","utils$1","AxiosError","message","code","request","response","utils","error","customProps","axiosError","msg","errCode","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","index","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","status","method","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","resolve","reject","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","sameSite","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","formHeaders","allowedHeaders","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","event","timeoutErrorMessage","cancel","protocol","composeSignals","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","DEFAULT_CHUNK_SIZE","globalFetchAPI","Request","Response","ReadableStream","TextEncoder","test","factory","env","envFetch","isFetchSupported","isRequestSupported","isResponseSupported","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","supportsResponseStream","resolvers","res","getBodyLength","body","resolveBodyLength","cancelToken","withCredentials","fetchOptions","_fetch","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","resolvedOptions","isStreamResponse","responseContentLength","responseData","seedCache","getFetch","fetch","seeds","seed","map","knownAdapters","fetchAdapter.getFetch","renderReason","isResolvedHandle","adapter","getAdapter","adapters","nameOrAdapter","rejectedReasons","reasons","s","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","spread","callback","isAxiosError","payload","HttpStatusCode","createInstance","defaultConfig","instance","axios","promises","all","Cancel","formToJSON","DEFAULT_BASE_URL","normalizeSelfHealAction","action","_c","_d","normalizeSelfHealStrategy","strategy","SoulBrowserAPI","__publicField","limit","taskId","since","sessionId","artifactName","base","strategyId","enabled","record","planPayload","contextSnapshot","soulbrowserAPI","defaultBaseUrl","normalizeUrl","legacyBaseUrls","useBackendConfigStore","trimmed","checkedAt","_version","Header","Sider","Content","Layout","MainLayout","navigate","useNavigate","location","useLocation","collapsed","setCollapsed","baseUrl","lastChecked","setStatus","cancelled","checkHealth","interval","tagConfig","CheckCircleOutlined","jsx","SyncOutlined","CloseCircleOutlined","menuItems","MessageOutlined","EyeOutlined","UnorderedListOutlined","ApiOutlined","SafetyCertificateOutlined","jsxs","styles","Tooltip","dayjs","Tag","Menu","Outlet","NOTHING","DRAFTABLE","DRAFT_STATE","die","isDraft","isDraftable","isMap","isSet","objectCtorString","cachedCtorStrings","proto","Ctor","ctorString","each","iter","strict","getArchtype","has","propOrOldValue","latest","shallowCopy","isPlain","freeze","deep","isFrozen","dontMutateMethodOverride","dontMutateFrozenCollections","plugins","getPlugin","pluginKey","plugin","currentScope","getCurrentScope","createScope","parent_","immer_","usePatchesInScope","scope","patchListener","revokeScope","leaveScope","revokeDraft","enterScope","immer2","draft","processResult","baseDraft","finalize","maybeFreeze","rootScope","useStrictIteration","childValue","finalizeProperty","resultEach","isSet2","parentState","targetObject","rootPath","targetIsSet","childIsFrozen","createProxyProxy","parent","traps","objectTraps","arrayTraps","revoke","proxy","readPropFromProto","peek","prepareCopy","createProxy","getDescriptorFromProto","current2","markChanged","owner","Immer2","recipe","defaultBase","base2","hasError","ip","patches","inversePatches","current","patch","applyPatchesImpl","currentImpl","copy","immer","produce","immerImpl","initializer","store","updater","messageIdCounter","useChatStore","newMessage","isTyping","plan","templates","FormOutlined","SearchOutlined","ExperimentOutlined","LineChartOutlined","TemplateSelector","onSelect","Card","List","template","tag","PlusOutlined","TextArea","Input","Paragraph","Typography","plannerOptions","llmProviderOptions","isAgentNoteStep","step","ChatPage","setInput","planner","setPlanner","llmProvider","setLlmProvider","llmModel","setLlmModel","lastPrompt","setLastPrompt","messagesEndRef","messages","addMessage","setTyping","setCurrentPlan","scrollToBottom","handleSend","userInput","steps","actionableSteps","summary","suggestions","hint","handleKeyPress","handleTemplateSelect","handleExecutePlan","renderPlanCard","Space","ClockCircleOutlined","Button","RobotOutlined","UserOutlined","suggestion","Spin","Select","Fragment","SendOutlined","Panel","Collapse","PerceivePage","form","Form","loading","setLoading","setResult","setError","handleSubmit","values","renderStructuralData","Descriptions","renderVisualData","color","renderSemanticData","renderInsights","insight","Alert","prev","curr","getFieldValue","Checkbox","PlayCircleOutlined","FileImageOutlined","Image","CodeOutlined","DEFAULT_CHAT_PROMPT","DiagnosticsPage","setBaseUrl","editingBaseUrl","setEditingBaseUrl","healthState","setHealthState","healthResult","setHealthResult","chatPrompt","setChatPrompt","chatLoading","setChatLoading","chatError","setChatError","chatOutput","setChatOutput","perceiveUrl","setPerceiveUrl","perceiveMode","setPerceiveMode","perceiveTimeout","setPerceiveTimeout","perceiveLoading","setPerceiveLoading","perceiveError","setPerceiveError","perceiveOutput","setPerceiveOutput","metrics","setMetrics","metricsLoading","setMetricsLoading","recordings","setRecordings","recordingsLoading","setRecordingsLoading","recordingsLimit","setRecordingsLimit","recordingsStateFilter","setRecordingsStateFilter","recordingDetail","setRecordingDetail","recordingDetailLoading","setRecordingDetailLoading","selfHealStrategies","setSelfHealStrategies","selfHealLoading","setSelfHealLoading","memoryStats","setMemoryStats","memoryStatsLoading","setMemoryStatsLoading","handleSaveBaseUrl","runHealthCheck","runChatTest","runPerceiveTest","renderResultBlock","loadPerceptionMetrics","snapshot","loadSelfHealStrategies","loadMemoryStats","loadRecordings","loadRecordingDetail","strategies","handleStrategyToggle","item","actionTagColor","describeAction","formatPercent","memoryAlerts","handleDownloadRecordingPlan","recording","blob","anchor","LinkOutlined","DatabaseOutlined","alert","idx","Statistic","Switch","checked","InputNumber","DownloadOutlined","HeartOutlined","formatTime","renderOverlayLabel","overlay","fallback","ConversationBoard","planOverlays","executionOverlays","logs","recentEvidence","onPreviewEvidence","onPreviewOverlay","latestLogs","latestOverlays","latestEvidence","Empty","_e","_f","_g","LiveCompanion","latestFrame","frames","overlays","annotations","streamConnected","streamPaused","streamError","onTogglePause","onReconnect","onPreviewFrame","onRefreshSummary","imageSize","setImageSize","renderSize","setRenderSize","imageRef","overlayList","annotationList","frameHistory","handleImageLoad","computeBoxStyle","bbox","parts","width","height","scaleX","scaleY","left","top","boxWidth","boxHeight","Badge","PauseCircleOutlined","ThunderboltOutlined","ReloadOutlined","style","overlayData","rawLabel","label","candidate","annotation","frame","DEFAULT_NAMESPACE","TemplatesPane","onApplyTemplate","onTemplateDeleted","onTemplateUpdated","records","setRecords","creating","setCreating","deletingId","setDeletingId","filterForm","createForm","editForm","editingRecord","setEditingRecord","editVisible","setEditVisible","editLoading","setEditLoading","stats","setStats","statsLoading","setStatsLoading","fetchRecords","useCallback","items","fetchStats","handleFilterSubmit","handleCreateTemplate","namespace","metadata","handleApplyTemplate","handleDeleteTemplate","openEditModal","handleUpdateTemplate","parsedTags","updated","EditOutlined","Popconfirm","DeleteOutlined","SaveOutlined","Modal","statusColors","renderStatusTag","formatBytes","units","size","unit","logLevelColor","OBSERVATION_HISTORY_LIMIT","formatUnknownValue","isPlainRecord","asString","asNumber","asBoolean","ensureIsoTimestamp","overlayLabelText","TasksPage","tasks","setTasks","detailVisible","setDetailVisible","detailLoading","setDetailLoading","selectedTask","setSelectedTask","taskDetail","setTaskDetail","liveStatus","setLiveStatus","liveContext","setLiveContext","setRecentEvidence","setLogs","setStreamError","setStreamConnected","setStreamPaused","streamSession","setStreamSession","streamSocketRef","reconnectTimerRef","actionLoading","setActionLoading","cancelLoading","setCancelLoading","gatewayLoading","setGatewayLoading","createVisible","setCreateVisible","createLoading","setCreateLoading","artifacts","setArtifacts","artifactsLoading","setArtifactsLoading","artifactPreview","setArtifactPreview","evidencePreview","setEvidencePreview","setPlanOverlays","setExecutionOverlays","setAnnotations","annotationSubmitting","setAnnotationSubmitting","observationTimeline","setObservationTimeline","observationTypeFilter","setObservationTypeFilter","observationSearch","setObservationSearch","downloadingObservations","setDownloadingObservations","annotationForm","isLlmPlanner","captureContextValue","activeTemplate","setActiveTemplate","downloadPlanRecord","filename","artifactFileName","imageSourceFromRecord","fallbackType","dataRecord","handleDownloadArtifact","handlePreviewEvidence","src","handlePreviewOverlay","closeEvidencePreview","liveFrames","handlePreviewArtifact","decoded","decodeBase64","fetchTasks","loadTaskDetail","detail","statusSnapshot","history","artifactsResponse","annotationsResponse","observationsResponse","initialContext","seededObservationFromApi","normalizedHistory","normalizedEvidence","initialPlanOverlays","refreshTaskSnapshot","openDetail","closeDetail","toggleStreamPaused","next","handleReconnectStream","stopped","clearReconnectTimer","disconnect","scheduleReconnect","connect","handleStreamMessage","artifact","enriched","stepId","socket","handleReexecute","handleCancelTask","handleRunViaGateway","handleSubmitAnnotation","note","handleExportLogs","artifactsTabContent","contentTypes","columns","row","_","FileSearchOutlined","count","Table","visualTabContent","fallbackPlan","planAnchors","fallbackEvidence","imageEvidence","evidenceByStep","timelineItems","bboxStyle","targetId","contextTabContent","screenshot","insights","perception","annotationTabContent","companionTabContent","planTabContent","renderPlan","handleExportObservations","observationTabContent","term","controls","openCreateModal","closeCreateModal","applyTemplateToForm","updates","promptValue","currentUrlValue","constraintsValue","constraintString","plannerValue","llmProviderValue","llmModelValue","executeValue","maxReplansValue","maxRetriesValue","contextScreenshotValue","contextTimeoutValue","clearActiveTemplate","handleCreateTask","constraintLines","errMsg","detailSummary","currentStatus","Drawer","Tabs","renderDispatches","RedoOutlined","StopOutlined","onExport","dispatches","formatMs","formatBackoff","GovernancePage","overview","setOverview","loadOverview","renderAlerts","alerts","FileProtectOutlined","file","App","ConfigProvider","zhCN","theme","BrowserRouter","Routes","Route","Navigate","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,77,78]}